#!/usr/bin/env sh
# Базовая проверка перед коммитом: нет ли конфликтных маркеров
set -eu

if git diff --cached --name-only | xargs -r grep -n "^<<<<<<< \|^=======$\|^>>>>>>> " >/dev/null 2>&1; then
  echo "[pre-commit] Обнаружены маркеры конфликтов в индексированных файлах. Удалите их перед коммитом." >&2
  exit 1
fi

exit 0
