# Roadmap: Crypto-Bot

## Фаза 0. Базовый каркас (готово частично)

- [x] Каркас проекта (engine/exchanges/strategies/utils/tests)
- [x] CCXT-адаптер (async)
- [x] Пример стратегии (SMA crossover)
- [x] Бэктест (на исторических OHLCV)
- [x] Paper-трейдинг (поток сигналов)
- [x] Dockerfile + compose
- [x] Скрипты запуска (Windows)
- [ ] Настроенные линтеры/типизация (ruff/mypy в CI)

## Фаза 1. Риск-менеджмент и сделки

- [ ] Менеджер позиций (entry/exit, стоп-лосс, тейк-профит)
- [ ] Money management: размер позиции по risk_pct и волатильности
- [ ] Учёт комиссий/спреда
- [ ] Журнал сделок (SQLite) + отчёты PnL, win-rate, max drawdown
- [ ] Алерты (Telegram/Email) с агрегацией событий

## Фаза 2. Исторические данные и бэктестинг

- [ ] Кэш исторических данных (файл/SQLite) + обновление
- [ ] Faster backtest (векторизация, numba/полу-векторный цикл)
- [ ] Мульти-стратегии/мульти-пары, портфельный бэктест
- [ ] Метрики (Sharpe/Sortino/Calmar)

## Фаза 3. Исполнение ордеров

- [ ] Paper-класс исполнителя (с проскальзыванием/спредом)
- [ ] Live-исполнитель (CCXT) — лимит/маркет, контроль ошибок/ретраи
- [ ] Поддержка тестнетов (Bybit/Binance), переключение из .env

## Фаза 4. Наблюдаемость и DevOps

- [ ] Логи (loguru) в файл + ротация
- [ ] Prometheus метрики (экспортер) / health-check endpoint
- [ ] Dockerized деплой на VPS (systemd + docker compose)
- [ ] Безопасность: хранение секретов (.env, не в Git)

## Фаза 5. Стратегии и исследование

- [ ] Индикаторы (RSI, ATR, MACD, Supertrend)
- [ ] Оптимизация параметров (grid/random search)
- [ ] Walk-forward/Out-of-sample валидация
- [ ] Simple genetic алгоритм для подбора параметров

## Размещение кода

- Для публичных стратегий — GitHub репозиторий без секретов.
- Для боевого бота с ключами/алгоритмами — частный Git (VPS, Gitea) или закрытый приватный репозиторий. Секреты только в .env на сервере.
- Рекомендация: код можно держать в приватном репо GitHub/Gitea, деплой — через SSH pull на VPS.
