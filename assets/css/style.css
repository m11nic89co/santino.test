/* Credits effect (About) – JS-driven marquee; remove legacy CSS animation to prevent freeze */
.about-credits-viewport { position: relative; width:100%; height:320px; overflow:hidden; display:flex; align-items:flex-start; justify-content:center; }
.about-credits-track { position:absolute; top:0; left:0; right:0; width:100%; display:flex; flex-direction:column; align-items:center; }
.about-credits-block { width:100%; display:flex; flex-direction:column; align-items:center; }
/* Radical simplification: pure CSS infinite scroll (duplicate blocks) */
@keyframes aboutCreditsScroll { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }
.about-credits-viewport .about-credits-track { animation: aboutCreditsScroll 40s linear infinite; }
@media (prefers-reduced-motion: reduce) { .about-credits-viewport .about-credits-track { animation-duration: 80s; } }
/* (Old keyframes aboutCreditsRise removed – logic handled in JS) */
:root {
			--bg: #222831;
			--text: #EEEEEE;
			--text-muted: rgba(238,238,238,0.85);
			--accent: #00ADB5;
			--accent-rgb: 0, 173, 181;
			--gray: #393E46;
			--radius: 18px;
			--font-main: 'Inter', sans-serif;
			--font-tech: 'Bebas Neue', 'Inter', sans-serif;
			--nav-underline-offset: 3px; /* baseline for arrows/line */
			--nav-arrow-size: 8px;
			--nav-arrow-half: 4px;
			/* Collection bg defaults (desktop used as fallback for mobile) */
			--collection-bg-desktop: url('../img/collection-bg-desktop.jpg');
			--collection-bg-desktop-2x: url('../img/collection-bg-desktop@2x.jpg');
			--collection-bg-mobile: var(--collection-bg-desktop);
			/* Force UA controls/scrollbars to dark scheme for consistent look */
			color-scheme: dark;
		}

		html,
		body {
			height: 100%;
			margin: 0;
			padding: 0;
		}

		html { background-color: #222831; }

		body {
			/* Prefer the dynamic viewport unit on modern browsers (dvh).
			   Fallback to a JS-updated --vh variable (for older mobile browsers). */
			min-height: 100dvh;
			min-height: calc(var(--vh, 1vh) * 100);
			background: linear-gradient(120deg, #222831 0%, #393E46 100%);
			color: var(--text);
			font-family: var(--font-main);
			letter-spacing: 0.01em;
			overflow-x: hidden;
			position: relative;
			font-size: 18px;
			opacity: 1;
			transition: opacity 0.7s cubic-bezier(.77, 0, .18, 1);
		}

		/* Scrollbar styling (desktop/Android). iOS hides scrollbars by default. */
		:root {
			scrollbar-color: rgba(57, 62, 70, 0.4) transparent; /* Firefox */
			scrollbar-width: thin;
		}

	::-webkit-scrollbar {
			width: 10px;
			height: 10px;
		}

		::-webkit-scrollbar-track {
			background: transparent;
		}

		::-webkit-scrollbar-thumb {
			background: rgba(57, 62, 70, 0.4);
			border-radius: 8px;
			border: 2px solid transparent;
			background-clip: padding-box;
		}

		::-webkit-scrollbar-thumb:hover { background: rgba(57, 62, 70, 0.6); }
		::-webkit-scrollbar-thumb:active { background: rgba(57, 62, 70, 0.8); }
		::-webkit-scrollbar-corner { background: transparent; }

	/* Blueprint-like millimeter grid overlay (cyan tint), almost invisible by default) */
		body::before {
			content: "";
			position: fixed;
			inset: 0;
			pointer-events: none;
			z-index: 0; /* lowest visual layer under content */
			/* below main content (z=2), above background */
			/* fine mm-like grid (~12px) + major grid (60px) */
			background:
				repeating-linear-gradient(0deg, rgba(0, 173, 181, 0.06) 0 1px, transparent 1px 12px),
				repeating-linear-gradient(90deg, rgba(0, 173, 181, 0.05) 0 1px, transparent 1px 12px),
				repeating-linear-gradient(0deg, rgba(0, 173, 181, 0.10) 0 2px, transparent 2px 60px),
				repeating-linear-gradient(90deg, rgba(0, 173, 181, 0.08) 0 2px, transparent 2px 60px);
			/* hidden initially; shown later via .grid-on on <body> */
			display: block;
			opacity: 0; /* keep hidden by default */
			transition: opacity 600ms cubic-bezier(.77,0,.18,1);
			/* control visibility via RGBA above */
		}

	/* Even when enabled globally, keep it very faint */
	body.grid-on::before { opacity: 0.06; }
	/* Show on hero only (first slide) at ultra-low opacity */
	/* Keep legacy global hero grid minimal; primary hero grid handled by section overlay below */
	/* keep a faint legacy layer but let the hero section overlay provide the main effect */
	body.grid-hero::before { opacity: 0.06; }

	/* Per-section side vignette: subtle darkening on left/right edges with active-state boost */
	.swiper-slide { position: relative; }
	.swiper-slide::before {
		content: "";
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: 3; /* above background layers, below content */
		background: linear-gradient(to right,
			rgba(0,0,0,0.38) 0%, rgba(0,0,0,0.24) 6%, rgba(0,0,0,0.10) 16%, rgba(0,0,0,0.00) 32%,
			rgba(0,0,0,0.00) 68%, rgba(0,0,0,0.10) 84%, rgba(0,0,0,0.24) 94%, rgba(0,0,0,0.38) 100%
		);
		opacity: 0.22;
		transition: opacity 420ms cubic-bezier(.22,.9,.24,1);
	}
	.swiper-slide.swiper-slide-active::before {
		opacity: 0.3;
	}
	@media (max-width: 600px) {
		.about-section .content-wrapper {
			/* On narrow phones: maintain gap under header and allow vertical scroll if content taller */
			padding-top: calc(var(--header-h, 120px) + 12px);
			padding-left: 12px;
			padding-right: 12px;
			max-width: none;
			min-height: calc(100dvh - var(--header-h, 64px));
			overflow-y: auto;
			box-sizing: border-box;
		}
		.about-section h2 { font-size: 1.6rem; }
		.about-story { font-size: 1rem; line-height: 1.78; }
	}
	/* Hero-only millimeter grid overlay (faint, appears when hero is active) */
	.hero-section::after {
		content: "";
		position: absolute;
		inset: 0;
		z-index: 2; /* below vignette, above hero background */
		pointer-events: none;
		background:
			/* fine grid (~12px) - stronger alpha */
			repeating-linear-gradient(0deg, rgba(0,173,181,0.10) 0 1px, transparent 1px 12px),
			repeating-linear-gradient(90deg, rgba(0,173,181,0.09) 0 1px, transparent 1px 12px),
			/* major grid (~60px) - stronger alpha */
			repeating-linear-gradient(0deg, rgba(0,173,181,0.18) 0 2px, transparent 2px 60px),
			repeating-linear-gradient(90deg, rgba(0,173,181,0.14) 0 2px, transparent 2px 60px);
		opacity: 0;
		transition: opacity 420ms cubic-bezier(.22,.9,.24,1);
	}
	.swiper-slide-active.hero-section::after { opacity: 0.22; }
	@media (max-width: 900px) {
		.swiper-slide-active.hero-section::after { opacity: 0.18; }
	}

		/* noise overlay removed to avoid potential banding/stripes near the logo */

		/* Guard: neutralize any future prefers-color-scheme overrides by mirroring base colors */
		@media (prefers-color-scheme: dark) {
			:root { color-scheme: dark; }
			html { background-color: #222831; }
		}
		@media (prefers-color-scheme: light) {
			:root { color-scheme: dark; }
			html { background-color: #222831; }
		}

		.paparazzi-flash {
			position: fixed;
			inset: 0;
			pointer-events: none;
			z-index: 10000;
			opacity: 0;
			display: none;
			background:
				radial-gradient(circle at 60% 40%, #fff 0%, #fff 60%, #fff8 80%, #fff0 100%),
				linear-gradient(120deg, #00ADB5cc 0 10%, transparent 60%),
				linear-gradient(70deg, #fff 0 8%, transparent 60%);
			filter: blur(8px) brightness(2.2);
			transition: opacity 0.2s;
			animation: none;
		}

		.paparazzi-flash.lightning-series {
			opacity: 1;
			animation: lightningSeries 1s cubic-bezier(.77, 0, .18, 1) forwards;
		}

		@keyframes lightningSeries {
			0% {
				opacity: 0;
				filter: blur(16px) brightness(2.5);
			}

			5% {
				opacity: 1;
				filter: blur(8px) brightness(2.7);
			}

			12% {
				opacity: 0.7;
				filter: blur(4px) brightness(2);
			}

			18% {
				opacity: 1;
				filter: blur(6px) brightness(2.5);
			}

			22% {
				opacity: 0.4;
				filter: blur(2px) brightness(1.2);
			}

			28% {
				opacity: 1;
				filter: blur(8px) brightness(2.7);
			}

			40% {
				opacity: 0.2;
				filter: blur(2px) brightness(1);
			}

			60% {
				opacity: 0.7;
				filter: blur(4px) brightness(2);
			}

			70% {
				opacity: 1;
				filter: blur(6px) brightness(2.5);
			}

			80% {
				opacity: 0.3;
				filter: blur(2px) brightness(1);
			}

			100% {
				opacity: 0;
				filter: blur(0px) brightness(1);
			}
		}

		.afterflash {
			position: fixed;
			inset: 0;
			pointer-events: none;
			z-index: 9999;
			opacity: 0;
			background:
				radial-gradient(circle at 40% 45%, #fff 0%, #fff8 18%, #00ADB5cc 30%, #00ADB500 60%),
				radial-gradient(circle at 70% 55%, #fff 0%, #fff8 14%, #00ADB5cc 26%, #00ADB500 55%),
				radial-gradient(circle at 60% 40%, #fff 0%, #fff8 10%, #00ADB5cc 18%, #00ADB500 40%);
			filter: blur(2px);
			transition: opacity 0.7s cubic-bezier(.77, 0, .18, 1);
			pointer-events: none;
		}

		.afterflash.show {
			opacity: 0.7;
			transition: opacity 1.2s cubic-bezier(.77, 0, .18, 1);
		}

		.loader-bg {
			position: fixed;
			inset: 0;
			background: #000;
			z-index: 9999;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: opacity 0.9s cubic-bezier(.77, 0, .18, 1), visibility 0.9s;
			opacity: 1;
			visibility: visible;
		}

		.loader-bg.hide {
			opacity: 0;
			visibility: hidden;
			pointer-events: none;
			transition-delay: 0.9s;
		}

		.loader-content {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
		}

		.loader-logo {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			filter: drop-shadow(0 0 24px #00ADB5aa);
			opacity: 0;
			transform: scale(0.92);
			transition: opacity 0.6s cubic-bezier(.77, 0, .18, 1), filter 0.6s cubic-bezier(.77, 0, .18, 1), transform 1s cubic-bezier(.77, 0, .18, 1);
			will-change: opacity, filter;
		}

		.loader-logo img {
			height: 48px;
			width: auto;
			display: block;
		}

		.loader-bar-wrap {
			width: 180px;
			height: 3px;
			background: #222;
			border-radius: 1.5px;
			margin-top: 36px;
			overflow: hidden;
			box-shadow: 0 2px 16px #00ADB533;
		}

		.loader-bar {
			width: 0%;
			height: 100%;
			background: linear-gradient(90deg, #00ADB5 0%, #0aa6ae 100%);
			border-radius: 1.5px;
			box-shadow: 0 0 8px #00ADB5cc;
			transition: width 1.1s cubic-bezier(.77, 0, .18, 1);
		}

		header {
			width: 100%;
			padding: 18px 32px;
			position: fixed;
			top: 0;
			left: 0;
			z-index: 100;
			box-sizing: border-box;
			display: flex; /* Flex layout: left nav, logo, right nav */
			justify-content: space-between;
			align-items: center; /* Vertically center */
		}

		.header-left, .header-right {
			flex: 1; /* let navs grow symmetrically */
		}

		.header-left { display: flex; justify-content: flex-end; }
		.header-right { display: flex; justify-content: flex-start; }

	/* central logo: keep comfortable spacing to both navs */
	.logo { padding: 0 160px; }

	/* Menu: make spacing between items even and responsive */
	.main-nav { display: flex; align-items: center; gap: clamp(20px, 2.2vw, 40px); }
	/* Keep and slightly increase the buffer between logo and nav groups so items don't move closer to logo */
	.header-left .main-nav { margin-right: 28px; }
	.header-right .main-nav { margin-left: 28px; }

		/* responsive reductions to keep header usable */
	@media (max-width: 1600px) { .logo { padding: 0 120px; } }
		@media (max-width: 1200px) { .logo { padding: 0 72px; } }
		@media (max-width: 900px)  { .logo { padding: 0 24px; } .main-nav { gap: 12px; } }

		/* removed obsolete pre-architecture nav styles to avoid conflicts */

		/* Clean desktop navigation - no complex effects */
		.main-nav a {
			position: relative;
			color: var(--text-muted);
			font-family: var(--font-tech);
			font-size: 1.2rem;
			font-weight: 300;
			text-decoration: none;
			text-transform: uppercase;
			letter-spacing: 0.08em;
			padding: 0.5rem 0;
			overflow: visible; /* allow mm label to render below underline */
			transition: color 0.25s ease, text-shadow 0.25s ease, font-weight 0.2s;
		}

		/* Dim non-active menu items to reduce visual noise */
		.main-nav a:not(.active):not(:hover) {
			color: rgba(255,255,255,0.42); /* quieter white */
			opacity: 0.9;
			transition: color 0.25s ease, opacity 0.25s ease;
		}

		.main-nav a:hover,
		.main-nav a.active {
			color: var(--text);
			font-weight: 400;
			text-shadow: 0 0 12px var(--accent);
		}

		/* Hover: short loading bar under the menu item */
		.main-nav a {
			position: relative; /* ensure pseudo-element positioning */
			display: inline-block; /* make width of anchor match text for the bar */
		}

		.main-nav a::after { content: none; }

		.main-nav a:hover::after {
			transform: translateX(-50%) scaleX(1);
			/* brighter dotted line on hover */
			background-image: repeating-linear-gradient(90deg, rgba(255,255,255,0.42) 0 2px, rgba(255,255,255,0) 2px 6px);
		}

		/* keep bar visible when item is active */
		.main-nav a.active::after {
			transform: translateX(-50%) scaleX(1);
			/* keep dotted line visible for active */
			background-image: repeating-linear-gradient(90deg, rgba(255,255,255,0.42) 0 2px, rgba(255,255,255,0) 2px 6px);
		}

								/* Architectural arrowheads at both ends on anchor background (avoid ::before conflicts) */
									  .main-nav a {
												/* three-layer background: left arrow, dotted center line, right arrow */
													background-repeat: no-repeat, repeat-x, no-repeat;
												background-position:
										  left 0 bottom var(--nav-underline-offset),
										  center bottom calc(var(--nav-underline-offset) + (var(--nav-arrow-size) / 2) - 0.5px),
										  right 0 bottom var(--nav-underline-offset);
												background-size:
													0 var(--nav-arrow-size),
														0 1px,
													0 var(--nav-arrow-size);
												/* default (non-hover) colors @0.42 */
												background-image:
													url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M8 0 L0 4 L8 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E"),
										  repeating-linear-gradient(90deg, rgba(255,255,255,0.42) 0 2px, rgba(255,255,255,0) 2px 6px),
													url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M0 0 L8 4 L0 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E");
												transition: background-size 0.35s cubic-bezier(.22,.9,.24,1), background-image 0.35s cubic-bezier(.22,.9,.24,1);
												will-change: background-size, background-image;
										}
									  .main-nav a:hover,
									  .main-nav a.active {
												/* reveal arrowheads and brighten dotted line to 0.85 */
												background-size:
													var(--nav-arrow-size) var(--nav-arrow-size),
													calc(100% - (var(--nav-arrow-size) * 2)) 1px,
													var(--nav-arrow-size) var(--nav-arrow-size);
												background-image:
										  url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M8 0 L0 4 L8 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E"),
										  repeating-linear-gradient(90deg, rgba(255,255,255,0.42) 0 2px, rgba(255,255,255,0) 2px 6px),
										  url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M0 0 L8 4 L0 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E");
										}

									/* Millimeter dimension label under the dotted line — architect-style */
									.main-nav a[data-mm]::after {
										content: attr(data-mm) ' mm';
										position: absolute;
										left: 50%;
										transform: translateX(-50%) scaleX(1.5);
										transform-origin: center bottom;
										bottom: calc(var(--nav-underline-offset) - 18px);
										color: rgba(255,255,255,0.42); /* unified dim */
										font-family: var(--font-tech);
										font-size: 10px;
										letter-spacing: 0em; /* remove gaps between characters */
										padding: 1px 5px 0;
										background: transparent; /* no chip background */
										border: none; /* no border */
										border-radius: 0;
										opacity: 0;
										transition: opacity 0.28s ease 0s; /* base transition (no delay on hide) */
										pointer-events: none;
										text-shadow: 0 1px 2px rgba(0,0,0,0.35);
										white-space: nowrap;
									}
									.main-nav a[data-mm]::before {
										content: none; /* remove dotted micro-background to avoid stripes between characters */
									}
									/* Show size label only for active link (hover shows only line+arrows) */
									.main-nav a.active[data-mm]::after,
									.main-nav a.active[data-mm]::before {
										opacity: 1;
										transition-delay: .15s; /* delayed appearance */
									}

		@keyframes loaderPulse {
			0% { box-shadow: 0 0 6px rgba(255,255,255,0.12); }
			50% { box-shadow: 0 0 14px rgba(255,255,255,0.22); }
			100% { box-shadow: 0 0 6px rgba(255,255,255,0.12); }
		}

		/* Subtle separators between desktop menu items */
		.main-nav a + a::before {
			content: "";
			display: inline-block;
			width: 4px;
			height: 4px;
			border-radius: 50%;
			background-color: rgba(255, 255, 255, 0.22);
			vertical-align: middle;
			margin: 0 6px 2px 2px; /* small breathing room around the dot */
			box-shadow: 0 0 4px rgba(0, 173, 181, 0.25);
		}

		/* When either neighbor is active, make the dot a touch brighter */
		.main-nav a.active + a::before,
		.main-nav a + a.active::before {
			background-color: rgba(0, 173, 181, 0.7);
			box-shadow: 0 0 6px rgba(0, 173, 181, 0.6);
		}

		/* Remove separators before specific menu targets: "Качество"(index 1) and "Контакты"(index 3).
		   We target by id and by data-index as a fallback for generated links. */
		.main-nav a#menu-link-1::before,
		.main-nav a#menu-link-3::before,
		.main-nav a[data-index="1"]::before,
		.main-nav a[data-index="3"]::before {
			display: none;
			content: none;
		}

		.hamburger-menu {
					display: none; /* Hidden on desktop by default */
					position: absolute; /* desktop: in header */
					right: 0px;
					z-index: 101;
					width: 56px;
					height: 32px;
					top: 46%;
					transform: translateY(-50%);
					align-items: center;
					justify-content: center;
					flex-direction: column;
					padding: 4px 6px;
					box-sizing: border-box;
					cursor: pointer;
				}

		/* Hamburger lines: vessel shape — wider on top, narrower on bottom */
		.hamburger-menu span {
			display: block;
			height: 2px; /* thinner lines */
			background: var(--text-muted);
			border-radius: 1px;
			transition: transform 300ms cubic-bezier(.22,.9,.24,1), opacity 180ms ease, width 220ms ease;
			box-shadow: 0 0 6px rgba(0,173,181,0.04);
			margin-left: auto;
			margin-right: auto;
		}

		/* progressive widths for 4 lines (vessel/tapered look) */
		.hamburger-menu span:nth-child(1) { width: 100%; }
		.hamburger-menu span:nth-child(2) { width: 90%; }
		.hamburger-menu span:nth-child(3) { width: 80%; }
		.hamburger-menu span:nth-child(4) { width: 70%; }

		.hamburger-menu span + span { margin-top: 4px; }

		/* Active state for 4 lines: cross the middle two, slide the outer two away */
		.hamburger-menu.is-active span:nth-child(1) { opacity: 0; transform: translateY(-5px) scaleX(0); }
		.hamburger-menu.is-active span:nth-child(4) { opacity: 0; transform: translateY(5px) scaleX(0); }
		.hamburger-menu.is-active span:nth-child(2) { transform: translateY(5px) rotate(45deg); }
		.hamburger-menu.is-active span:nth-child(3) { transform: translateY(-5px) rotate(-45deg); }

		/* Focus-visible for keyboard users */
		.hamburger-menu:focus-visible {
			outline: 2px solid var(--accent);
			outline-offset: 4px;
		}

		.mobile-nav {
			display: none;
		}

		/* Force mobile header layout when body has .mobile-mode (works even >900px) */
		body.mobile-mode .main-nav { display: none !important; }
		body.mobile-mode .header-left, body.mobile-mode .header-right { display: none !important; }
		body.mobile-mode .hamburger-menu { display: flex !important; }
		body.mobile-mode header { justify-content: center; }
		body.mobile-mode .mobile-nav { z-index: 1000; }

		@media (max-width: 900px) {
			.main-nav {
				display: none;
			}
			.hamburger-menu { display: flex; }
			.header-left, .header-right {
				display: none; /* Hide desktop navs on mobile */
			}
			header {
				justify-content: center; /* Center logo on mobile */
			}

			.mobile-nav {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				/* robust viewport height incl. mobile UI changes */
				height: 100dvh;
				height: calc(var(--vh, 1vh) * 100);
				/* dark, soft vignette to improve readability around and behind text */
				background:
					radial-gradient(1200px 800px at 50% 50%, rgba(0,0,0,0.66) 0%, rgba(0,0,0,0.78) 55%, rgba(0,0,0,0.88) 100%);
				z-index: 999;
				display: flex;
				flex-direction: column;
				align-items: center; /* строгий центр по горизонтали */
				justify-content: center; /* строгий центр по вертикали */
				align-content: center;
				box-sizing: border-box;
				gap: 12px; /* управляемое расстояние между пунктами */
				overflow-y: auto; /* если пунктов много, пусть скроллится */
				/* symmetrical safe-area padding (use larger inset for both top/bottom) to keep true visual centering */
				padding-left: 24px;
				padding-right: 24px;
				/* симметричный safe-area отступ; вертикальное смещение делаем через translateY */
				padding-top: calc(max(env(safe-area-inset-top, 0px), env(safe-area-inset-bottom, 0px)) + 8px);
				padding-bottom: calc(max(env(safe-area-inset-top, 0px), env(safe-area-inset-bottom, 0px)) + 8px);
				text-align: center;
				/* fade-in + смещение вниз */
				transform: translateY(calc(var(--vh, 1vh) * 25));
				opacity: 0;
				transition: opacity 0.35s ease, transform 0.35s ease;
				/* block interactions when hidden since it's full-screen */
				pointer-events: none;
			}

			.mobile-nav.is-open {
				transform: translateY(calc(var(--vh, 1vh) * 25));
				opacity: 1;
				pointer-events: auto;
			}

			.mobile-nav a {
				display: inline-block;
				position: relative; /* allow ::after mm label to position correctly */
				text-align: center;
				max-width: min(640px, 92%);
				margin-left: auto;
				margin-right: auto;
				font-family: var(--font-tech);
				font-weight: 300; /* тоньше шрифт для мобильного меню */
				font-size: clamp(1.4rem, 6vw, 2.2rem);
				color: rgba(255,255,255,0.9);
				text-decoration: none;
				margin: 0; /* расстояние управляет контейнер через gap */
				/* add inner dark chip; extra bottom padding to include mm label inside block for perfect centering */
				padding: 12px 14px 28px;
				background-color: rgba(0,0,0,0.5); /* only color layer, keeps background-image underline */
				border-radius: 12px;
				box-shadow: 0 8px 24px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.05);
				text-shadow: 0 2px 10px rgba(0,0,0,0.9);
				line-height: 1.22;
				transition: color 0.3s, opacity 0.4s, transform 0.4s;
				opacity: 0;
				transform: translateY(10px);
			}
			/* Extra breathing room below the last item (умеренный, центр макета) */
			.mobile-nav a:last-child { margin-bottom: 0; }

			.mobile-nav.is-open a { opacity: 1; transform: none; }
			/* Staggered reveal for up to 10 items */
			.mobile-nav.is-open a:nth-child(1)  { transition-delay: 60ms; }
			.mobile-nav.is-open a:nth-child(2)  { transition-delay: 120ms; }
			.mobile-nav.is-open a:nth-child(3)  { transition-delay: 180ms; }
			.mobile-nav.is-open a:nth-child(4)  { transition-delay: 240ms; }
			.mobile-nav.is-open a:nth-child(5)  { transition-delay: 300ms; }
			.mobile-nav.is-open a:nth-child(6)  { transition-delay: 360ms; }
			.mobile-nav.is-open a:nth-child(7)  { transition-delay: 420ms; }
			.mobile-nav.is-open a:nth-child(8)  { transition-delay: 480ms; }
			.mobile-nav.is-open a:nth-child(9)  { transition-delay: 540ms; }
			.mobile-nav.is-open a:nth-child(10) { transition-delay: 600ms; }

			/* Architectural underline with arrowheads + dotted guide (mirrors desktop) */
			.mobile-nav a {
				background-repeat: no-repeat, repeat-x, no-repeat;
				background-position:
					left 0 bottom var(--nav-underline-offset),
					center bottom calc(var(--nav-underline-offset) + (var(--nav-arrow-size) / 2) - 0.5px),
					right 0 bottom var(--nav-underline-offset);
				background-size: 0 var(--nav-arrow-size), 0 1px, 0 var(--nav-arrow-size);
				background-image:
					url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M8 0 L0 4 L8 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E"),
					repeating-linear-gradient(90deg, rgba(255,255,255,0.42) 0 2px, rgba(255,255,255,0) 2px 6px),
					url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath d='M0 0 L8 4 L0 8 Z' fill='%23ffffff' fill-opacity='.42'/%3E%3C/svg%3E");
			}
			.mobile-nav a:hover,
			.mobile-nav a.active {
				color: var(--text);
				background-size: var(--nav-arrow-size) var(--nav-arrow-size), calc(100% - (var(--nav-arrow-size) * 2)) 1px, var(--nav-arrow-size) var(--nav-arrow-size);
			}

			/* mm dimension label under link (centered) */
			.mobile-nav a[data-mm]::after {
				content: attr(data-mm) ' mm';
				position: absolute;
				left: 50%;
				transform: translateX(-50%) scaleX(1.4);
				transform-origin: center bottom;
				/* place label inside the chip, above underline, so it affects perceived height */
				bottom: calc(var(--nav-underline-offset) + 10px);
				color: rgba(255,255,255,0.42);
				font-family: var(--font-tech);
				font-size: 10px;
				letter-spacing: 0;
				padding: 1px 5px 0;
				background: transparent;
				border: none;
				border-radius: 0;
				opacity: 0;
				transition: opacity 0.28s ease 0s;
				pointer-events: none;
				text-shadow: 0 1px 2px rgba(0,0,0,0.35);
				white-space: nowrap;
			}
			.mobile-nav a[data-mm]::before { content: none; }
			.mobile-nav a.active[data-mm]::after { opacity: 1; transition-delay: .12s; }

			/* Mobile FAB: thumb-friendly circular button in bottom-right corner */
			.hamburger-menu {
				position: fixed;
				right: calc(env(safe-area-inset-right, 0px) + 32px) !important; /* half button width inward */
				top: calc(var(--vh, 1vh) * 75);
				width: 64px;
				height: 64px;
				border-radius: 50%;
				padding: 0;
				background: rgba(0, 0, 0, 0.28);
				backdrop-filter: blur(4px);
				-webkit-backdrop-filter: blur(4px);
				box-shadow: 0 8px 20px rgba(0,0,0,0.28), inset 0 0 0 1px rgba(255,255,255,0.05);
				display: grid;
				place-items: center;
				z-index: 101;
				transition: background 200ms ease, box-shadow 200ms ease, transform 150ms ease, opacity 200ms ease;
				animation: fab-heartbeat 1.8s ease-in-out infinite;
				overflow: hidden;
				/* minimal 3D feel only for the sphere flip */
				perspective: 500px;
			}
			@keyframes fab-heartbeat {
				0%   { transform: translateY(0) scale(1); }
				20%  { transform: translateY(0) scale(1.04); }
				35%  { transform: translateY(0) scale(1); }
				55%  { transform: translateY(0) scale(1.03); }
				100% { transform: translateY(0) scale(1); }
			}
			/* Reduce motion respects */
			@media (prefers-reduced-motion: reduce) {
				.hamburger-menu { animation: none !important; }
				.hamburger-menu::before { animation: none !important; }
			}

			/* Dim on scroll/swipe: half visible, no movement */
			body.is-scrolling .hamburger-menu,
			body.is-swiping .hamburger-menu { opacity: 0.5; }
			.hamburger-menu:active { transform: translateY(1px) scale(0.98); }
			.hamburger-menu:is(:hover, :focus-visible) { box-shadow: 0 12px 28px rgba(0,0,0,0.46), inset 0 0 0 1px rgba(255,255,255,0.07); }
			/* Base depth */
			.hamburger-menu { box-shadow: 0 8px 20px rgba(0,0,0,0.28), inset 0 0 0 1px rgba(255,255,255,0.05); }
			/* Pressed depth on interaction and when open */
			.hamburger-menu:is(:active, .is-active) {
				background: rgba(0, 173, 181, 0.16);
				box-shadow: 0 6px 16px rgba(0,0,0,0.25), inset 6px 6px 12px rgba(0,0,0,0.35), inset -4px -4px 10px rgba(255,255,255,0.05);
			}

			/* Icon: minimal 3-line burger (mobile) - precise transforms so burger reliably becomes a cross */
			.hamburger-menu .hamburger-lines {
				display: block;
				width: 32px;
				height: 20px;
				position: relative;
				z-index: 3;
			}
			.hamburger-menu .hamburger-lines span {
				display: block;
				position: absolute;
				left: 0;
				right: 0;
				margin: 0 auto;
				height: 2px;
				width: 32px;
				background: var(--text);
				border-radius: 1px;
				transition: transform 220ms cubic-bezier(.22,.9,.24,1), opacity 160ms ease;
				transform-origin: center;
			}
			/* position the three visible lines neatly: 1 - top, 2 - center, 3 - bottom; hide the 4th used on desktop */
			.hamburger-menu .hamburger-lines span:nth-child(1) { top: 3px; }
			.hamburger-menu .hamburger-lines span:nth-child(2) { top: 50%; transform: translateY(-50%); }
			.hamburger-menu .hamburger-lines span:nth-child(3) { bottom: 3px; }
			.hamburger-menu .hamburger-lines span:nth-child(4) { display: none; }

			/* Active state → cross: rotate top and bottom into an X, hide middle line */
			.hamburger-menu.is-active .hamburger-lines span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
			.hamburger-menu.is-active .hamburger-lines span:nth-child(2) { opacity: 0; transform: scaleX(0.01); }
			.hamburger-menu.is-active .hamburger-lines span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

			/* Hide caption for clean look */
			.hamburger-menu .hamburger-label {
				display: none !important;
				opacity: 0 !important;
				animation: none !important;
			}

			/* Keep lines always visible (no alternation) */
			.hamburger-menu .hamburger-lines { animation: none; will-change: auto; }
			/* swap-* animations no longer used */


			/* cleanup: removed unused animations */

			/* When menu is open, keep cross stable */
			.hamburger-menu.is-active .hamburger-lines { animation: none; opacity: 1; transform: none; }
			.hamburger-menu.is-active .hamburger-label { animation: none; opacity: 0; }

			/* Respect reduced motion preference */
			@media (prefers-reduced-motion: reduce) {
				.hamburger-menu { animation: none !important; }
				.hamburger-menu .hamburger-lines { animation: none !important; opacity: 1 !important; transform: none !important; }
				.hamburger-menu .hamburger-label { animation: none !important; opacity: 0 !important; }
				.hamburger-menu, .hamburger-menu .hamburger-lines span { transition: none !important; }
			}
		}

		header > * {
			pointer-events: auto;
		}

		/* Global dim rule: applies regardless of viewport or layout */
		body.is-scrolling .hamburger-menu,
		body.is-swiping .hamburger-menu {
			opacity: 0.5 !important;
		}

		/* Persistent dim until user clicks FAB */
		body.fab-dimmed .hamburger-menu {
			opacity: 0.5 !important;
		}

		.logo {
			display: flex;
			align-items: center;
			justify-content: center;
			font-family: var(--font-tech);
			font-size: clamp(1.6rem, 6vw, 2.8rem);
			/* scale smoothly across viewports */
			font-weight: 900;
			letter-spacing: 0.18em;
			color: var(--text);
			pointer-events: auto;
			transition: color 0.2s, text-shadow 0.3s, transform 0.7s cubic-bezier(.77, 0, .18, 1), opacity 0.35s ease;
			text-shadow: none;
			filter: none;
			text-transform: none;
			/* keep natural line height so vertical centering works */
			line-height: normal;
			/* show by default so header items are centered */
			opacity: 1;
			transform: none;
		}

		/* gentle load animation: applied only when JS adds .logo-animate-in */
		.logo.logo-animate-in {
			transform: translateY(-6px);
			opacity: 1;
			transition: transform 0.9s cubic-bezier(.77, 0, .18, 1), opacity 0.9s cubic-bezier(.77, 0, .18, 1);
		}

		/* Logo image sizing + smoothing */
		.logo img {
			height: 36px;
			width: auto;
			display: block;
			image-rendering: auto;
			/* prefer smooth scaling */
			/* legacy IE smoothing */
			-ms-interpolation-mode: bicubic;
		}

		@media (max-width: 1200px) {
			.logo img {
				height: 34px;
			}
		}

		@media (max-width: 1024px) {
			.logo img {
				height: 32px;
			}
		}

		@media (max-width: 768px) {
			.logo img {
				height: 30px;
			}
		}

		@media (max-width: 640px) {
			.logo img {
				height: 28px;
			}
		}

		/* Subtle neon glow for the logo image */
		.logo img { filter: drop-shadow(0 0 10px rgba(0,173,181,0.26)) drop-shadow(0 0 18px rgba(0,173,181,0.16)); transition: filter 200ms ease; }
		.logo:hover img { filter: drop-shadow(0 0 14px rgba(0,173,181,0.36)) drop-shadow(0 0 26px rgba(0,173,181,0.22)); }

		.logo:hover {
			color: var(--accent);
			text-shadow: none;
		}

		/* Pagination: small circular bullets stacked on the right */
		@media (min-width: 901px) {
			/* Left-side cascade nav: stack main nav links vertically and center by height */
			.header-left { position: relative; z-index: 60; }
			.header-left .main-nav {
				position: fixed;
				left: clamp(16px, 4vw, 48px);
				top: 50%;
				transform: translateY(-50%);
				display: flex !important;
				flex-direction: column;
				gap: clamp(14px, 1.8vh, 24px);
				align-items: flex-start;
			}
			.header-left .main-nav a {
				display: inline-block;
			font-size: 1.02rem;
				line-height: 1.2;
				transform-origin: left center;
			transition: transform 160ms ease, color 160ms ease, text-shadow 160ms ease;
			margin-block: 2px; /* extra breathing space */
			}
			.header-left .main-nav a:hover {
				transform: scale(1.06);
			}
		}
		.swiper-pagination {
			position: absolute;
			right: clamp(28px, 3.8vw, 48px);
			top: 50%;
			transform: translateY(-50%);
			z-index: 50;
			display: flex;
			flex-direction: column;
			gap: 12px;
		}

		.swiper-pagination .swiper-pagination-bullet {
			width: 8px;
			height: 8px;
			background: rgba(255,255,255,0.18);
			border-radius: 50%;
			display: block;
			/* add subtle halo via pseudo-element; keep native shadow free here */
			box-shadow: none;
			position: relative;
			z-index: 1;
			transition: transform 0.28s ease, background 0.28s ease, box-shadow 0.28s ease, filter 0.28s ease;
		}

		/* circular dark backdrop to enhance visibility on any background */
		.swiper-pagination .swiper-pagination-bullet::before {
			content: "";
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate(-50%, -50%);
			width: 18px;
			height: 18px;
			border-radius: 50%;
			background: radial-gradient(circle, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.35) 55%, rgba(0,0,0,0.18) 75%, rgba(0,0,0,0.0) 100%);
			filter: blur(0.6px);
			pointer-events: none;
			z-index: 0; /* under the bullet itself (z:1) */
		}

		/* natural white-to-accent diffusion for active bullet; bounded size and slight left bias */
		.swiper-pagination .swiper-pagination-bullet-active::after {
			content: "";
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate(-64%, -50%); /* stronger inward bias */
			width: clamp(18px, 4vw, 30px);
			height: clamp(18px, 4vw, 30px);
			border-radius: 50%;
			background: radial-gradient(circle,
				rgba(255,255,255,0.45) 0 14%,
				rgba(var(--accent-rgb),0.60) 30%,
				rgba(var(--accent-rgb),0.22) 58%,
				rgba(var(--accent-rgb),0.00) 100%);
			filter: blur(1.2px);
			pointer-events: none;
			z-index: 0; /* below the bullet circle */
			will-change: transform;
			animation: bulletHaloShift 280ms cubic-bezier(.22,.9,.24,1) both;
		}

@keyframes bulletHaloShift {
	0%   { transform: translate(-40%, -50%); }
	100% { transform: translate(-62%, -50%); }
}

/* Performance hints */
.hero-bg, .hero-parallax, .swiper-slide::after {
	will-change: transform, opacity;
	transform: translateZ(0);
}

		.swiper-pagination .swiper-pagination-bullet-active {
			background: var(--accent);
			transform: scale(1.12);
			/* smaller neon radius to avoid overflow */
			box-shadow:
				0 0 0 3px rgba(var(--accent-rgb), 0.10),
				0 0 8px var(--accent),
				0 0 16px rgba(var(--accent-rgb), 0.45);
			filter: brightness(1.08) saturate(1.08);
		}

		/* extra guard for very small screens */
		@media (max-width: 480px) {
			.swiper-pagination { right: max(38px, 7vw); }
			.swiper-pagination .swiper-pagination-bullet-active::after {
				width: clamp(18px, 7vw, 26px);
				height: clamp(18px, 7vw, 26px);
				transform: translate(-74%, -50%);
			}
		}

		/* tablet guard */
		@media (max-width: 768px) {
			.swiper-pagination { right: max(36px, 6vw); }
			.swiper-pagination .swiper-pagination-bullet-active::after {
				width: clamp(18px, 6vw, 28px);
				height: clamp(18px, 6vw, 28px);
				transform: translate(-70%, -50%);
			}
		}

		/* reduce dark halo under the active bullet so the neon pops */
		.swiper-pagination .swiper-pagination-bullet-active::before { opacity: 0; }

		/* Tooltip for pagination bullets */
		.swiper-pagination .swiper-pagination-bullet[data-tooltip]:hover::after {
			content: attr(data-tooltip);
			position: absolute;
			left: -220px;
			top: 50%;
			transform: translateY(-50%);
			background: rgba(0,0,0,0.8);
			color: #fff;
			padding: 6px 10px;
			border-radius: 6px;
			font-size: 0.9rem;
			white-space: nowrap;
			box-shadow: 0 4px 18px rgba(0,0,0,0.6);
		}

	/* removed legacy slide animations to avoid conflicts with Swiper creativeEffect */

		main {
			min-height: 100dvh;
			min-height: calc(var(--vh, 1vh) * 100);
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			padding: 0;
			position: relative;
			text-align: center;
			opacity: 0;
			transform: translateY(40px);
			transition: opacity 1.2s cubic-bezier(.77, 0, .18, 1), transform 1.2s cubic-bezier(.77, 0, .18, 1);
		}

		main.site-visible {
			opacity: 1;
			transform: none;
			transition-delay: 0.2s;
		}

		.fullscreen {
			min-height: 100dvh;
			min-height: calc(var(--vh, 1vh) * 100);
			display: flex;
			flex-direction: column;
			justify-content: center;
		}

		.hero-section {
			align-items: center;
			text-align: center;
			opacity: 0;
			/* restored stronger fog/blur effect */
			filter: blur(32px);
			transition:
				opacity 2s cubic-bezier(.77, 0, .18, 1),
				filter 2s cubic-bezier(.77, 0, .18, 1);
			position: relative;
			top: 0;
			z-index: 10;
			background: inherit;
			padding: 0 2rem;
		}

		.hero-section.fog-in {
			opacity: 1;
			filter: blur(0);
		}



		.hero-title {
			font-family: var(--font-tech);
			font-size: 4.5rem;
			font-weight: 900;
			margin: 0 0 2rem 0;
			letter-spacing: 0.01em;
			line-height: 1.05;
			color: var(--text);
			max-width: 900px;
			text-shadow: 0 4px 32px #00ADB533;
			text-transform: uppercase;
			word-break: break-word;
		}

		/* Make the second line of the hero title thinner */
		.hero-title .hero-title-rest {
			font-family: var(--font-main);
			font-weight: 300;
		}

		/* Shine sweep accent for staged word reveal on hero */
		.hero-title .word {
			position: relative;
			overflow: hidden;
		}
		.hero-title .word::after {
			content: "";
			position: absolute;
			top: -10%;
			left: -30%;
			width: 30%;
			height: 120%;
			background: linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.22) 45%, rgba(0,173,181,0.18) 60%, rgba(255,255,255,0) 100%);
			transform: skewX(-18deg) translateX(-120%);
			filter: blur(0.5px);
			opacity: 0;
		}
		.hero-title .word.word-shine::after {
			opacity: 1;
			animation: wordShine 900ms cubic-bezier(.22,.9,.24,1) forwards;
		}
		@keyframes wordShine {
			0%   { transform: skewX(-18deg) translateX(-120%); opacity: 0; }
			12%  { opacity: 1; }
			100% { transform: skewX(-18deg) translateX(220%); opacity: 0; }
		}

		.hero-title-main {
			display: block;
			width: 100%;
			margin-bottom: 0.15em;
			line-height: 1.05;
			letter-spacing: 0.01em;
		}

		@media (max-width: 900px) {
			.hero-title {
				font-size: 2.6rem;
				padding: 0 1rem;
				white-space: normal;
				text-overflow: clip;
				margin-top: 120px;
			}
		}

		@media (max-width: 600px) {
			.hero-title {
				font-size: 2rem;
				margin-top: 96px;
				display: block;
				line-height: 1.12;
				text-align: center;
			}

			.hero-title .hero-title-main {
				display: block;
				width: 100%;
				margin-bottom: 0.15em;
			}
		}

		.hero-desc {
			font-size: 1.6rem;
			margin-bottom: 1.2rem;
			color: #bdbdbd;
			font-weight: 300;
			max-width: 600px;
			margin-left: auto;
			margin-right: auto;
		}

		.hero-subtle {
			font-size: 1.05rem;
			color: #bdbdbd;
			margin-bottom: 1.2rem;
			margin-top: -0.5em;
			letter-spacing: 0.04em;
			font-family: var(--font-main);
			font-weight: 300;
			text-align: center;
			opacity: 0.85;
		}

		.btn {
					background: transparent;
					color: #00ADB5;
			padding: 0.7rem 1.4rem;
			/* more compact */
			min-width: 220px;
			text-align: center;
			border-radius: 0.9rem;
			/* subtler */
			border: 1px solid #00ADB5;
			/* thinner border */
			font-family: var(--font-main);
			/* Cyrillic-friendly font */
			font-size: clamp(0.9rem, 2.8vw, 1rem);
			/* smaller, laconic */
			font-weight: 300;
			/* even thinner text */
			letter-spacing: 0.05em;
			/* less tracking for minimal look */
			text-transform: uppercase;
			outline: none;
			cursor: pointer;
			transition:
				background 0.18s cubic-bezier(.77, 0, .18, 1),
				color 0.18s cubic-bezier(.77, 0, .18, 1),
				border 0.18s cubic-bezier(.77, 0, .18, 1),
				box-shadow 0.18s cubic-bezier(.77, 0, .18, 1),
				filter 0.18s cubic-bezier(.77, 0, .18, 1);
			box-shadow: none;
			text-shadow: none;
			filter: none;
			position: relative;
			overflow: hidden;
			margin-top: 2.2rem;
			text-decoration: none;
			display: inline-block;
			/* prevent border splitting across lines */
			max-width: min(92vw, 420px);
			white-space: nowrap;
			/* keep one line on desktop */
			overflow: hidden;
			/* avoid multi-line height growth */
			text-overflow: ellipsis;
			/* ellipsis if too long */
			line-height: 1.06;
			/* compact line height */
		}

		.btn:hover,
		.btn:focus {
					background: #00ADB5;
					color: #222831;
					border: 1px solid #222831;
			/* match thinner border */
			box-shadow: none;
		}

		.btn:active {
			box-shadow: none;
		}

		.btn.flicker {
			animation: lampFlicker 1s linear, lampFadeOutFull 1.8s cubic-bezier(.77, 0, .18, 1) 1s forwards;
			filter: none;
			color: #00ADB5 !important;
			background: transparent;
			box-shadow: 0 0 12px 4px #00ADB5aa, 0 0 24px 8px #00ADB570;
			/* subtler */
			text-shadow: 0 0 18px #00ADB588, 0 0 36px #00ADB555;
			border-color: #00ADB5 !important;
			/* width controlled in base style */
			opacity: 0.22 !important;
			transition: opacity 0.6s, filter 0.6s, color 0.6s, border-color 0.6s, box-shadow 0.6s, text-shadow 0.6s;
			pointer-events: none;
		}

		@keyframes lampFlicker {
			0% {
				filter: none;
				color: #00ADB5;
				opacity: 1;
			}

			7% {
				filter: none;
				color: #00ADB5;
				opacity: 0.2;
			}

			15% {
				filter: none;
				color: #00ADB5;
				opacity: 1;
			}

			22% {
				filter: none;
				color: #00ADB5;
				opacity: 0.18;
			}

			32% {
				filter: none;
				color: #00ADB5;
				opacity: 1;
			}

			40% {
				filter: none;
				color: #00ADB5;
				opacity: 0.06;
			}

			52% {
				filter: brightness(5.5) blur(0px) contrast(1) saturate(1);
				color: #00ADB5;
				opacity: 1;
			}

			62% {
				filter: brightness(0.01) blur(34px) contrast(2.5) saturate(1.7);
				color: #00ADB5;
				opacity: 0.04;
			}

			72% {
				filter: brightness(6.2) blur(0px) contrast(1) saturate(1);
				color: #00ADB5;
				opacity: 1;
			}

			80% {
				filter: brightness(0) blur(40px) contrast(2.5) saturate(1.7);
				color: #00ADB5;
				opacity: 0.02;
			}

			90% {
				filter: brightness(7) blur(0px) contrast(1) saturate(1);
				color: #00ADB5;
				opacity: 1;
			}

			100% {
				filter: brightness(0) blur(48px) contrast(2.5) saturate(1.7);
				color: #00ADB5;
				opacity: 0.01;
			}
		}

		@keyframes lampFadeOutFull {
			0% {
				opacity: 0.18;
				filter: brightness(0.18) blur(6px) contrast(2) saturate(1.5) grayscale(0);
				color: #00ADB5;
				border-color: #00ADB5;
			}

			10% {
				opacity: 0.162;
				filter: brightness(0.162) blur(10px) contrast(1.9) saturate(1.35) grayscale(0.1);
				color: #1acce0;
				border-color: #1acce0;
			}

			20% {
				opacity: 0.144;
				filter: brightness(0.144) blur(14px) contrast(1.8) saturate(1.2) grayscale(0.2);
				color: #2fd1d7;
				border-color: #2fd1d7;
			}

			30% {
				opacity: 0.126;
				filter: brightness(0.126) blur(18px) contrast(1.7) saturate(1.05) grayscale(0.3);
				color: #47d6d9;
				border-color: #47d6d9;
			}

			40% {
				opacity: 0.108;
				filter: brightness(0.108) blur(22px) contrast(1.6) saturate(0.9) grayscale(0.4);
				color: #62dbe0;
				border-color: #62dbe0;
			}

			50% {
				opacity: 0.09;
				filter: brightness(0.09) blur(26px) contrast(1.5) saturate(0.75) grayscale(0.5);
				color: #7ae0e3;
				border-color: #7ae0e3;
			}

			60% {
				opacity: 0.072;
				filter: brightness(0.072) blur(30px) contrast(1.4) saturate(0.6) grayscale(0.6);
				color: #94e6e8;
				border-color: #94e6e8;
			}

			70% {
				opacity: 0.054;
				filter: brightness(0.054) blur(36px) contrast(1.3) saturate(0.45) grayscale(0.7);
				color: #afecee;
				border-color: #afecee;
			}

			80% {
				opacity: 0.036;
				filter: brightness(0.036) blur(44px) contrast(1.2) saturate(0.3) grayscale(0.8);
				color: #c8f2f4;
				border-color: #c8f2f4;
			}

			90% {
				opacity: 0.018;
				filter: brightness(0.018) blur(60px) contrast(1.1) saturate(0.15) grayscale(0.9);
				color: #e2f8f9;
				border-color: #e2f8f9;
			}

			100% {
				opacity: 0;
				filter: brightness(0) blur(80px) contrast(1) saturate(0) grayscale(1);
				color: #888;
				border-color: #888;
			}
		}

		.btn.neon {
			background: transparent;
					color: #00ADB5;
					border: 1px solid #00ADB5;
			/* match thinner border */
					box-shadow: 0 0 1px 0 #00ADB5cc, 0 0 2px 0 #00ADB599;
			/* subtler */
					text-shadow: 0 0 2px #00ADB5cc;
					filter: brightness(1.01) drop-shadow(0 0 1px #00ADB5cc);
			transition:
				color 0.3s cubic-bezier(.77, 0, .18, 1),
				background 0.3s cubic-bezier(.77, 0, .18, 1),
				border-color 0.3s cubic-bezier(.77, 0, .18, 1),
				box-shadow 0.3s cubic-bezier(.77, 0, .18, 1),
				filter 0.3s cubic-bezier(.77, 0, .18, 1),
				text-shadow 0.3s cubic-bezier(.77, 0, .18, 1);
			z-index: 1;
		}

		@media (max-width: 600px) {
			.btn {
				font-size: 1rem;
				/* smaller on mobile */
				padding: 0.8rem 1rem;
				/* compact on mobile */
				border-radius: 1.3rem;
				width: auto;
				/* no forced full width */
				max-width: 90vw;
				/* cap to viewport */
				min-width: 0;
				/* allow smaller than desktop min */
				margin-left: auto;
				/* center */
				margin-right: auto;
				/* center */
				display: inline-block;
				/* keep single box when wrapping */
				white-space: normal;
				/* allow 2-line text */
				overflow-wrap: anywhere;
				/* wrap long words safely */
			}

			.btn::after,
			.btn::before {
				border-radius: 1.5rem;
			}
		}

		@media (max-width: 900px) {
			.hero-title {
				min-width: 0;
				font-size: 2.5rem;
			}


		}

		@media (max-width: 600px) {
			.logo {
				font-size: clamp(1.8rem, 8.5vw, 2.2rem);
				/* larger on small screens for readability */

				/* Reserve space for CTA to avoid jumps when button appears */
				.hero-cta {
					min-height: 120px;
				}
			}

			.hero-title {
				font-size: 1.5rem;
				margin-top: 90px;
			}

			.hero-desc {
				font-size: 1rem;
			}

			.btn {
				font-size: 1rem;
				/* keep small final override */
				padding: 0.9rem 1.1rem;
			}



			footer {
				font-size: 0.95rem;
			}
		}

		@keyframes fadeinup {
			from {
				opacity: 0;
				transform: translateY(40px);
			}

			to {
				opacity: 1;
				transform: none;
			}
		}

		.hero-section.fullscreen {
			min-height: 100dvh;
			min-height: calc(var(--vh, 1vh) * 100);
			height: 100dvh;
			height: calc(var(--vh, 1vh) * 100);
			box-sizing: border-box;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			scroll-margin-top: 0;
			padding-top: 0;
			padding-bottom: 0;
		}

		/* Искры сварки — контейнер и базовый стиль частиц */
		.sparks-overlay {
			position: fixed;
			inset: 0;
			pointer-events: none;
			/* higher than most content so sparks remain visible */
			z-index: 1000;
			overflow: visible;
		}

		.spark {
			position: absolute;
			left: 0;
			top: 0;
			width: 2px;
			height: 10px;
			border-radius: 2px;
			/* cold, welding-like cyan/blue spark */
			background: linear-gradient(to bottom, #e6fbff 0%, #7dd3ff 45%, #00b8ff 100%);
			box-shadow: 0 0 4px 1px #00e5ff66, 0 0 10px 2px #00b8ffaa;
			mix-blend-mode: screen;
			opacity: 1;
			transform: translate3d(0, 0, 0) rotate(0deg) scaleY(1);
			will-change: transform, opacity;
		}

		@media (prefers-reduced-motion: reduce) {
			.sparks-overlay {
				display: none;
			}
		}

		/* Эффект 3D исчезновения/появления секций */
		.section-3d-out {
			animation: section3dOut 1.1s cubic-bezier(.77, 0, .18, 1) forwards;
			will-change: opacity, transform, filter;
			z-index: 10;
			position: relative;
		}

		.section-3d-in {
			animation: section3dIn 1.1s cubic-bezier(.77, 0, .18, 1) forwards;
			will-change: opacity, transform, filter;
			z-index: 11;
			position: relative;
		}

		@keyframes section3dOut {
			0% {
				opacity: 1;
				transform: perspective(900px) rotateY(0deg) scale(1) translateY(0);
				filter: blur(0px) brightness(1);
			}

			60% {
				opacity: 0.3;
				transform: perspective(900px) rotateY(30deg) scale(0.92) translateY(20px);
				filter: blur(6px) brightness(0.7);
			}

			100% {
				opacity: 0;
				transform: perspective(900px) rotateY(70deg) scale(0.85) translateY(60px);
				filter: blur(18px) brightness(0.3);
				pointer-events: none;
			}
		}

		@keyframes section3dIn {
			0% {
				opacity: 0;
				transform: perspective(900px) rotateY(-70deg) scale(0.85) translateY(-60px);
				filter: blur(18px) brightness(0.3);
			}

			40% {
				opacity: 0.3;
				transform: perspective(900px) rotateY(-30deg) scale(0.92) translateY(-20px);
				filter: blur(6px) brightness(0.7);
			}

			100% {
				opacity: 1;
				transform: perspective(900px) rotateY(0deg) scale(1) translateY(0);
				filter: blur(0px) brightness(1);
			}
		}

		.main-3d-container {
			position: fixed;
			inset: 0;
			width: 100vw;
			height: 100dvh;
			height: calc(var(--vh, 1vh) * 100);
			overflow: hidden;
			z-index: 2;
			background: inherit;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}

		/* Slow blueprint mockups overlay (SVG drawings) */
		.blueprints-overlay {
			position: absolute;
			inset: 0;
			z-index: 1;
			/* above grid, below content */
			pointer-events: none;
			overflow: hidden;
		}

		.blueprint {
			position: absolute;
			left: 0;
			top: 0;
			opacity: 0;
			filter: drop-shadow(0 0 6px rgba(0, 173, 181, 0.18));
			transition: opacity 2.4s cubic-bezier(.77, 0, .18, 1);
			will-change: opacity, transform;
			animation: blueprintDrift 22s linear infinite;
		}

		@keyframes blueprintDrift {
			0% {
				transform: translate(var(--bp-x, 0), var(--bp-y, 0)) rotate(var(--bp-r, 0deg));
			}

			50% {
				transform: translate(calc(var(--bp-x, 0) + var(--bp-dx, 24px)), calc(var(--bp-y, 0) + var(--bp-dy, 24px))) rotate(var(--bp-r, 0deg));
			}

			100% {
				transform: translate(var(--bp-x, 0), var(--bp-y, 0)) rotate(var(--bp-r, 0deg));
			}
		}

		.blueprint svg {
			display: block;
			width: 100%;
			height: 100%;
		}

		.blueprint line,
		.blueprint rect,
		.blueprint path,
		.blueprint circle,
		.blueprint polyline {
			fill: none;
			stroke: rgba(0, 173, 181, 0.32);
			stroke-width: 1.2;
			vector-effect: non-scaling-stroke;
			/* keep lines thin on scale */
		}

		.blueprint .major {
			stroke: rgba(0, 173, 181, 0.5);
			stroke-width: 1.4;
		}

		/* Professional-style dimension annotations (animated) */
		.blueprint .dims {
			pointer-events: none;
		}

		.blueprint .dim-ext {
			stroke: #0fbad0;
			stroke-width: 0.8;
			stroke-dasharray: 3 3;
			opacity: 0.7;
			vector-effect: non-scaling-stroke;
		}

		.blueprint .dim-line {
			stroke: #00ADB5;
			stroke-width: 1;
			stroke-linecap: square;
			vector-effect: non-scaling-stroke;
			stroke-dasharray: var(--len, 100);
			stroke-dashoffset: var(--len, 100);
			transition: stroke-dashoffset 1s cubic-bezier(.77, 0, .18, 1) var(--d, 0.1s);
		}

		.blueprint .dim-arrow {
			fill: #00ADB5;
			opacity: 0;
			transition: opacity 0.6s cubic-bezier(.77, 0, .18, 1) var(--d, 0.25s);
		}

		.blueprint .dim-text {
			fill: rgba(180, 250, 255, 0.6);
			font: 500 11px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
			letter-spacing: 0.04em;
			opacity: 0;
			transform: translateY(2px);
			transition: opacity 0.6s cubic-bezier(.77, 0, .18, 1) var(--d, 0.25s), transform 0.6s cubic-bezier(.77, 0, .18, 1) var(--d, 0.25s);
		}

		.blueprint .dim-text.v {
			transform: rotate(-90deg);
			transform-box: fill-box;
			transform-origin: center;
		}

		.blueprint.dim-animate .dim-line {
			stroke-dashoffset: 0;
		}

		.blueprint.dim-animate .dim-arrow {
			opacity: 0.85;
		}

		.blueprint.dim-animate .dim-text {
			opacity: 0.6;
			transform: translateY(0);
		}

		@media (prefers-reduced-motion: reduce) {
			.blueprints-overlay {
				display: none;
			}
		}

		.section-3d {
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			background: inherit;
			transition: none;
			will-change: opacity, transform, filter;
		}

		.fit-inner {
			display: none;
		}

		/* Center hero content in the scaled design area (desktop) */
		.hero-section {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: 100%;
			padding: 0 16px 96px 16px;
			/* reserve space for ticker + trust line */
			box-sizing: border-box;
		}

		.hero-section .hero-title {
			margin: 0 0 2rem 0;
		}

		.hero-core {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			gap: 0.6rem;
			position: relative;
			z-index: 2;
			width: 100%;
			max-width: 900px;
			margin: 0 auto;
		}

		/* Remove heavy text shadows on hero for a cleaner look */
		.hero-title,
		.hero-title .word,
		.hero-title-main,
		.hero-title-rest,
		.hero-desc,
		.hero-subtle {
			text-shadow: none;
		}

		/* Place the subtle trust line just above the ticker on desktop */
		.hero-section .hero-subtle {
			position: absolute;
			left: 0;
			right: 0;
			bottom: 70px;
			text-align: center;
			margin: 0;
			pointer-events: none;
		}

		.hero-section>.ticker-wrap {
			position: absolute;
			left: 0;
			bottom: 0;
			width: 100%;
			padding: 0 16px 12px;
			box-sizing: border-box;
			background: transparent;
		}

		/* Mobile mode: disable global scaling, allow natural responsive layout inside scrollable container */
		body.mobile-mode .main-3d-container {
			position: static;
			width: 100%;
			height: auto;
			overflow: visible;
			padding-top: var(--header-h, 0px);
		}

		body.mobile-mode .section-3d {
			position: relative;
			width: 100%;
			height: auto;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			/* vertical centering */
			min-height: calc(100dvh - var(--header-h, 0px));
			min-height: calc(calc(var(--vh, 1vh) * 100) - var(--header-h, 0px));
		}

		body.mobile-mode .hero-section {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			height: auto;
			min-height: calc(100dvh - var(--header-h, 0px));
			min-height: calc(calc(var(--vh, 1vh) * 100) - var(--header-h, 0px));
			padding: 16px 16px 96px;
			/* room for ticker + trust line */
		}

		body.mobile-mode .hero-section>.ticker-wrap {
			position: fixed;
			left: 0;
			right: 0;
			bottom: 0;
			width: 100%;
			padding: 6px 0 10px;
			/* edge-to-edge on mobile */
			background: transparent;
			/* match section background, no overlay */
			z-index: 5;
		}

		body.mobile-mode .hero-section>.hero-subtle {
			position: fixed;
			left: 0;
			right: 0;
			bottom: calc(2.2em + 20px + env(safe-area-inset-bottom));
			text-align: center;
			z-index: 6;
			margin: 0;
			padding: 0 16px;
		}

		/* Desktop: also pin ticker and trust line to viewport bottom so zoom doesn't affect visibility */
		@media (min-width: 901px) {
			.hero-section {
				padding-bottom: 84px;
				/* ensure center area leaves space for pinned elements */
			}

			.hero-section>.ticker-wrap {
				position: fixed;
				left: 0;
				right: 0;
				bottom: 0;
				padding: 6px 16px 10px;
				z-index: 5;
				background: transparent;
				/* match section background, no overlay */
			}

			.hero-section>.hero-subtle {
				position: fixed;
				left: 0;
				right: 0;
				bottom: 70px;
				text-align: center;
				margin: 0;
				z-index: 6;
				pointer-events: none;
			}
		}

		body.mobile-mode .hero-title {
			margin-top: 16px !important;
		}

		/* Pin ticker to bottom with safe-area handling to avoid being hidden by mobile UI bars */
		.ticker-wrap {
			width: 100%;
			overflow: hidden;
			margin: 0;
			position: fixed;
			left: 0;
			right: 0;
			bottom: calc(env(safe-area-inset-bottom, 0px) + 0px);
			height: 2.2em;
			background: transparent;
			/* same as sections */
			border-radius: 0;
			box-shadow: none;
			/* no highlight */
			display: flex;
			align-items: center;
			justify-content: flex-start;
		}


		/* Add bottom padding so content doesn't hide behind ticker */
		body.mobile-mode {
			padding-bottom: calc(3.2em + env(safe-area-inset-bottom, 0px));
		}

		.ticker-wrap {
			bottom: env(safe-area-inset-bottom, 0px);
		}

		/* Seamless, duplicated track for infinite loop */
		.ticker {
			width: 100%;
			overflow: hidden;
			font-family: var(--font-main);
			font-size: 1.08em;
			color: var(--text);
			letter-spacing: 0.04em;
		}

		.ticker-track {
			display: flex;
			align-items: center;
			gap: 0;
			width: max-content;
			will-change: transform;
			animation: tickerScroll var(--ticker-duration, 40s) linear infinite;
		}

		.ticker-segment {
			display: flex;
			align-items: center;
			gap: var(--logo-gap, 2.2em);
			/* add trailing gap so the loop seam has the same spacing */
			padding-right: var(--logo-gap, 2.2em);
		}

		.ticker-item {
			display: inline-flex;
			align-items: center;
		}

		.logo-badge {
			display: inline-flex;
			align-items: center;
			gap: 0;
			color: inherit;
			border: none;
			padding: 0;
			line-height: 1;
			font-weight: 700;
			white-space: nowrap;
		}

		.logo-badge .badge-label {
			display: none;
		}

		/* unify visible size by height, keep aspect ratio */
		.logo-badge .logo-img {
			display: block;
			height: 1.6em;
			width: auto;
			object-fit: contain;
		}

		/* fallback: reveal text label when image fails */
		.logo-badge.logo-missing .logo-img {
			display: none;
		}

		.logo-badge.logo-missing .badge-label {
			display: inline-block;
			/* make fallback labels larger and readable */
			font-size: 1.5em;
			color: var(--text);
			font-weight: 700;
		}

		/* Hide fallback labels in the cloned segment to avoid visible duplication when the track is duplicated for seamless looping */
		.ticker-track .ticker-segment:not(:first-child) .badge-label {
			display: none !important;
		}

		@keyframes tickerScroll {
			from {
				transform: translateX(0);
			}

			to {
				transform: translateX(-50%);
			}
		}

		/* Desktop-only: make hero text more laconic */
		@media (min-width: 901px) {
			.hero-title {
				font-size: 3rem;
				max-width: 720px;
				letter-spacing: 0.005em;
			}

			.hero-desc {
				font-size: 1.2rem;
				max-width: 560px;
			}

			.hero-subtle {
				font-size: 0.95rem;
			}
		}

		/* Swiper & Navigation */
		.swiper {
		width: 100%;
		height: 100dvh;
		height: calc(var(--vh, 1vh) * 100);
		position: fixed;
		top: 0;
		left: 0;
			overflow: hidden;
			touch-action: pan-y; /* lock to vertical gestures */
			overscroll-behavior: contain; /* reduce page bounce on mobile */
}

			/* (removed) swap-shield */

						/* Face: static shading with inner depth; deepens on press */
						.hamburger-menu::before {
							content: "";
							position: absolute;
							inset: 0;
							border-radius: 50%;
							z-index: 1;
							background:
								/* subtle top-left sheen */
								radial-gradient(closest-side at 32% 30%, rgba(255,255,255,0.16), rgba(255,255,255,0.0) 42%),
								/* overall depth */
								linear-gradient(145deg, rgba(255,255,255,0.05), rgba(0,0,0,0.32));
							box-shadow: inset 2px 2px 6px rgba(0,0,0,0.28), inset -2px -2px 6px rgba(255,255,255,0.05);
							transition: box-shadow 180ms ease, filter 180ms ease;
						}
						.hamburger-menu:is(:active, .is-active)::before {
							box-shadow: inset 6px 6px 12px rgba(0,0,0,0.4), inset -4px -4px 10px rgba(255,255,255,0.04);
						}
						/* slight icon parallax on press */
						.hamburger-menu:is(:active, .is-active) .hamburger-lines { transform: translateY(1px); }

/* Accessibility helpers */
.skip-link {
	position: absolute;
	left: 8px;
	top: -40px;
	padding: 8px 12px;
	background: var(--accent);
	color: #0b0b0b;
	border-radius: 8px;
	z-index: 10000;
	text-decoration: none;
	transition: top .2s ease;
}

.skip-link:focus { top: 8px; }

:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}

/* Improve tap behavior on mobile: prefer click over double-tap zoom on actionable elements */
a, button, .btn, .hamburger-menu, .main-nav a, .mobile-nav a {
	touch-action: manipulation;
}

.swiper-slide {
    text-align: center;
    font-size: 18px;
    background: transparent;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
		position: relative; /* allow absolute overlays like fog-layer */
}

/* Transitional fog overlay used during slide change */
.fog-layer {
		position: absolute;
		inset: 0;
		z-index: 3; /* above backgrounds/gradients, below header */
		pointer-events: none;
		opacity: var(--fogOpacity, 0);
		filter: blur(var(--fogBlur, 0px));
		transition: opacity 200ms ease-out, filter 200ms ease-out;
		will-change: opacity, filter;
		background:
			radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.05) 35%, rgba(255,255,255,0.02) 60%, rgba(255,255,255,0.00) 80%),
			radial-gradient(180% 180% at 60% 40%, rgba(var(--accent-rgb),0.08) 0%, rgba(var(--accent-rgb),0.05) 40%, rgba(var(--accent-rgb),0.00) 70%),
			radial-gradient(160% 160% at 30% 70%, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.00) 60%);
		/* slight brightening to simulate light haze */
		mix-blend-mode: screen;
}

/* Gradient overlay for all content sections (exclude the hero which has its own .hero-bg) */
.section-content {
	position: relative;
	isolation: isolate;
}
.section-content::before {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -1; /* above section-specific bg (e.g., collection), below content */
	background-image:
		/* side vignettes */
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		/* top vignette */
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		/* subtle teal accent */
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		/* base tint: will be overridden per slide (light/dark) */
		linear-gradient(120deg, rgba(34,40,49,0.92), rgba(57,62,70,0.82));
	background-blend-mode: normal, normal, normal, screen, normal;
	pointer-events: none;
}

/* Alternating light/dark background base for non-hero slides (index: 1-based in DOM order inside wrapper) */
.swiper-wrapper > .section-content:nth-child(2n) {
	/* Light variant in our palette */
	--section-base-start: rgba(238, 238, 238, 0.06);
	--section-base-end: rgba(200, 220, 225, 0.10);
}
.swiper-wrapper > .section-content:nth-child(2n+1) {
	/* Dark variant (default) */
	--section-base-start: rgba(34, 40, 49, 0.92);
	--section-base-end: rgba(57, 62, 70, 0.82);
}
.section-content::before {
	/* use base colors decided above */
	background-image:
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		linear-gradient(120deg, var(--section-base-start), var(--section-base-end));
}

/* Ensure About and Collection keep their imagery priorities; alternation affects only base tint */

/* Remove old conflicting tall bullet styles; circular bullets defined earlier are used */
.section-content h2 {
	font-family: var(--font-tech);
	font-size: 3rem;
	color: var(--accent);
	margin-bottom: 1rem;
}

.section-content p {
    font-size: 1.2rem;
    line-height: 1.6;
}

/* Improve readability for non-hero sections: wider measure, padding from edges and slightly larger text */
.section-content .content-wrapper {
	position: relative;
	z-index: 4; /* above vignette */
	max-width: 900px;
	padding: 0 64px; /* horizontal breathing room */
	margin: 0 auto;
	box-sizing: border-box;
}
@media (max-width: 900px) {
	.section-content .content-wrapper { padding: 0 18px; }
}

/* Mobile typography tweaks specifically for the "О НАС" (about) slide */
@media (max-width: 900px) {
	.about-section .content-wrapper {
		  /* Keep content clearly below the fixed header/logo.
			  Use the runtime set --header-h when available. Provide a conservative
			  large fallback so content never overlaps the header before JS runs. */
		  padding-top: calc(var(--header-h, 120px) + 8px);
		padding-left: 16px;
		padding-right: 16px;
		max-width: 720px;
		margin-left: auto;
		margin-right: auto;
		/* Ensure content fits the visible area on mobile and can scroll if needed */
		min-height: calc(100dvh - var(--header-h, 64px));
		box-sizing: border-box;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
	}

	/* Ensure the about section doesn't get hidden behind header when navigated to */
	.about-section { scroll-margin-top: calc(var(--header-h, 140px) + 16px); }
	.about-section .content-wrapper {
		padding-top: calc(var(--header-h, 140px) + 16px);
	}
	.about-section h2 {
		font-size: 1.9rem;
		line-height: 1.12;
		margin-bottom: 0.75rem;
		text-align: left;
	}
	.about-story {
		font-size: 1.02rem;
		line-height: 1.72;
		text-align: left;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		hyphens: auto;
		word-break: normal;
		overflow-wrap: anywhere;
		/* wrap long words safely */
		margin-top: 6px;
	}
	.about-story .story-block {
		margin-bottom: 1.05rem;
		padding: 0;
	}
}

@media (max-width: 600px) {
	.about-section .content-wrapper {
		  /* On narrow phones keep a small safe gap under header and make sure the
			  content fits the viewport without covering the logo. Use larger fallback. */
		  padding-top: calc(var(--header-h, 120px) + 12px);
		  padding-left: 12px;
		  padding-right: 12px;
		  max-width: none;
		  min-height: calc(100dvh - var(--header-h, 64px));
		  overflow-y: auto;
	}
	.about-section h2 {
		font-size: 1.6rem;
	}
	.about-story {
		font-size: 1rem;
		line-height: 1.78;
	}
}

/* Desktop & general: increase vertical spacing so the title doesn't collide with fixed header/logo
   Use --header-h when available (set in JS) so spacing adapts to actual header height. */
.about-section .content-wrapper {
	/* Center content vertically and horizontally for improved readability */
	display: flex;
	flex-direction: column;
	justify-content: center; /* vertical */
	align-items: center; /* horizontal */
	min-height: calc(100vh - var(--header-h, 84px));
	padding-top: 48px;
	padding-bottom: 48px;
	padding-left: 56px;
	padding-right: 56px;
	box-sizing: border-box;
}
.about-section h2 {
	margin-top: 8px; /* small breathing under top padding */
	margin-bottom: 1rem;
}

@media (min-width: 1200px) {
	.about-section .content-wrapper { max-width: 980px; }
}

@media (min-width: 901px) {
	/* Keep centered text on desktop */
	.about-section .content-wrapper { text-align: center; }
	.about-section h2 { text-align: center; }
	.about-story { text-align: center; max-width: 980px; }
}

.section-content p {
	font-size: 1.18rem;
	line-height: 1.78;
	color: rgba(255,255,255,0.95);
}

@media (max-width: 1200px) {
	.section-content .content-wrapper { padding: 0 48px; max-width: 760px; }
}
@media (max-width: 900px) {
	.section-content .content-wrapper { padding: 24px 28px; max-width: 640px; }
	.section-content h2 { font-size: 2.2rem; }
	.section-content p { font-size: 1.05rem; line-height: 1.6; }
}

/* Collection (Коллекция) section background */
.collection-section {
	position: relative;
	overflow: hidden;
}
.collection-section::before {
	/* disable this pseudo so section gradient uses ::before without conflict */
	content: none;
}
.collection-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3; /* below gradient layer */
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover; /* fill and crop */
	/* slightly darker to match requested look */
	filter: brightness(0.9) contrast(1.06) saturate(1.02);
	opacity: 0.94;
}
/* Remove centered dark panel: content should be transparent and full-bleed */
.collection-section .content-wrapper {
	background: transparent; /* no inner dark panel */
	border-radius: 0; /* full-bleed feel */
	padding-top: 28px;
	padding-bottom: 28px;
	box-shadow: none;
	border: none;
}

/* Desktop-only: assign desktop image; high-DPR override to @2x */
@media (min-width: 901px) {
	/* Prefer AVIF/WEBP with JPG fallback; 1x by default, 2x for high-DPR */
	.collection-section::after {
		/* Layer 1: darkening overlay; Layer 2+: image-set with JPG fallback */
		background-image:
			linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.16)),
			image-set(
				url('../img/collection-bg-desktop.avif') type('image/avif') 1x,
				url('../img/collection-bg-desktop.webp') type('image/webp') 1x,
				url('../img/collection-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../img/collection-bg-desktop.jpg');
	background-position: 50% 35%; /* raise the subject a bit higher */
	}
}
@media (min-width: 901px) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 901px) and (min-resolution: 144dpi) {
	.collection-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.16)),
			image-set(
				url('../img/collection-bg-desktop@2x.avif') type('image/avif') 2x,
				url('../img/collection-bg-desktop@2x.webp') type('image/webp') 2x,
				url('../img/collection-bg-desktop@2x.jpg') type('image/jpeg') 2x
			),
			url('../img/collection-bg-desktop@2x.jpg');
	background-position: 50% 35%;
	}
}

/* Mobile: adjust crop for portrait, keep subject centered (hands + растения) */
@media (max-width: 900px) {
	.collection-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.14), rgba(0,0,0,0.14)),
			image-set(
				url('../img/collection-bg-mobile.avif') type('image/avif') 1x,
				url('../img/collection-bg-mobile.webp') type('image/webp') 1x,
				url('../img/collection-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../img/collection-bg-mobile.jpg');
	background-position: 55% 32%; /* raise framing on mobile too */
		background-size: cover;
		opacity: 1;
	}
	/* Stronger, crisper pan on mobile for clarity */
	.collection-section.collection-pan::after {
		animation: collectionPanMobile 30s ease-in-out 0s infinite alternate;
		transform-origin: 55% 40%; /* pivot around focal area */
	}
	/* ensure inner container is transparent on mobile too */
	.collection-section .content-wrapper {
		background: transparent;
		padding-top: 36px;
		padding-bottom: 36px;
	}
}

/* Contract Molding (КОНТРАКТНОЕ ЛИТЬЁ) section background */
.contract-section { position: relative; overflow: hidden; }
.contract-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	filter: brightness(0.98) contrast(1.05) saturate(1.04);
	opacity: 0.96;
	transform: translate3d(0,0,0);
	will-change: transform;
}
@keyframes contractPan {
	0%   { transform: scale(1.04) translate3d(-1.2%, -0.8%, 0); }
	50%  { transform: scale(1.06) translate3d(1.4%,  1.2%, 0); }
	100% { transform: scale(1.05) translate3d(-0.6%, 1.6%, 0); }
}
/* Desktop background with progressive enhancement (AVIF/WEBP) and JPG fallback */
@media (min-width: 901px) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-desktop.avif') type('image/avif') 1x,
				url('../img/contract-bg-desktop.webp') type('image/webp') 1x,
				url('../img/contract-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 46%;
	}
}
@media (min-width: 901px) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 901px) and (min-resolution: 144dpi) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-desktop@2x.avif') type('image/avif') 2x,
				url('../img/contract-bg-desktop@2x.webp') type('image/webp') 2x,
				url('../img/contract-bg-desktop@2x.jpg') type('image/jpeg') 2x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 46%;
	}
}
/* Mobile crop */
@media (max-width: 900px) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-mobile.avif') type('image/avif') 1x,
				url('../img/contract-bg-mobile.webp') type('image/webp') 1x,
				url('../img/contract-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 42%;
		background-size: cover;
	}
}
/* Run pan only when slide is active (class toggled by JS) */
.contract-section.contract-pan::after { animation: contractPan 30s ease-in-out infinite alternate; }

/* About (О НАС / Качество) section background */
.about-section {
	position: relative;
	overflow: hidden;
}
.about-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3; /* below gradient layer */
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	/* Gentle lift: lighter than collection to keep text readable with global vignette */
	filter: brightness(0.98) contrast(1.04) saturate(1.06);
	opacity: 0.96;
	transform: translate3d(0,0,0);
	will-change: transform;
}
@keyframes aboutPan {
	0%   { transform: scale(1.04) translate3d(-1.2%, -0.8%, 0); }
	50%  { transform: scale(1.06) translate3d(1.4%, 1.2%, 0); }
	100% { transform: scale(1.05) translate3d(-0.6%, 1.6%, 0); }
}
/* Desktop background with JPG source; can be upgraded later to AVIF/WEBP if provided */
@media (min-width: 901px) {
	.about-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.10), rgba(0,0,0,0.10)),
			image-set(
				url('../img/about-bg-desktop.avif') type('image/avif') 1x,
				url('../img/about-bg-desktop.webp') type('image/webp') 1x,
				url('../img/about-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../../NK2_2198 (1).jpg');
		background-position: 50% 45%;
	}
}
/* Mobile crop tuning */
@media (max-width: 900px) {
	.about-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.10), rgba(0,0,0,0.10)),
			image-set(
				url('../img/about-bg-mobile.avif') type('image/avif') 1x,
				url('../img/about-bg-mobile.webp') type('image/webp') 1x,
				url('../img/about-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../../NK2_2198 (1).jpg');
		background-position: 50% 38%;
		background-size: cover;
	}
}

/* Run the pan only when slide is active (class toggled by JS) */
.about-section.about-pan::after {
	animation: aboutPan 30s ease-in-out infinite alternate;
}

/* About content reveal */
.about-section .content-wrapper h2,
.about-section .about-story .story-block {
	opacity: 0;
	transform: translate3d(0, 14px, 0);
	will-change: opacity, transform;
}
.about-section.about-reveal .content-wrapper h2 { animation: aboutRevealUp 1100ms cubic-bezier(.22,.9,.24,1) 120ms forwards; }

/* Staged reveal for about-story blocks */
.about-section .about-story { display: grid; gap: 12px; margin-top: 12px; }

@keyframes aboutRevealLeft {
		0%   { opacity: 0; transform: translate3d(-24px, 14px, 0); filter: blur(0.6px); }
		60%  { opacity: 1; transform: translate3d(-6px,  4px, 0);  filter: blur(0.2px); }
		100% { opacity: 1; transform: translate3d(0,     0,   0);  filter: blur(0); }
}
@keyframes aboutRevealRight {
		0%   { opacity: 0; transform: translate3d(24px, 14px, 0); filter: blur(0.6px); }
		60%  { opacity: 1; transform: translate3d(6px,  4px, 0);  filter: blur(0.2px); }
		100% { opacity: 1; transform: translate3d(0,    0,  0);   filter: blur(0); }
}

.about-section.about-reveal .about-story .story-block:nth-child(1) { animation: aboutRevealLeft 1200ms cubic-bezier(.22,.9,.24,1) 240ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(2) { animation: aboutRevealRight 1250ms cubic-bezier(.22,.9,.24,1) 780ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(3) { animation: aboutRevealLeft 1300ms cubic-bezier(.22,.9,.24,1) 1320ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(4) { animation: aboutRevealRight 1350ms cubic-bezier(.22,.9,.24,1) 1860ms forwards; }

/* (Removed duplicate about-credits-* block & keyframes) */

/* Accessibility improvements for focus states */
:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}
.skip-link {
	position: absolute;
	left: 8px;
	top: -40px;
	padding: 8px 12px;
	background: var(--accent);
	color: #0b0b0b;
	border-radius: 8px;
	z-index: 10000;
	text-decoration: none;
	transition: top .2s ease;
}
.skip-link:focus { top: 8px; }

/* Improve tap behavior on mobile: prefer click over double-tap zoom on actionable elements */
a, button, .btn, .hamburger-menu, .main-nav a, .mobile-nav a {
	touch-action: manipulation;
}

.swiper-slide {
    text-align: center;
    font-size: 18px;
    background: transparent;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
		position: relative; /* allow absolute overlays like fog-layer */
}

/* Transitional fog overlay used during slide change */
.fog-layer {
		position: absolute;
		inset: 0;
		z-index: 3; /* above backgrounds/gradients, below header */
		pointer-events: none;
		opacity: var(--fogOpacity, 0);
		filter: blur(var(--fogBlur, 0px));
		transition: opacity 200ms ease-out, filter 200ms ease-out;
		will-change: opacity, filter;
		background:
			radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.05) 35%, rgba(255,255,255,0.02) 60%, rgba(255,255,255,0.00) 80%),
			radial-gradient(180% 180% at 60% 40%, rgba(var(--accent-rgb),0.08) 0%, rgba(var(--accent-rgb),0.05) 40%, rgba(var(--accent-rgb),0.00) 70%),
			radial-gradient(160% 160% at 30% 70%, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.00) 60%);
		/* slight brightening to simulate light haze */
		mix-blend-mode: screen;
}

/* Gradient overlay for all content sections (exclude the hero which has its own .hero-bg) */
.section-content {
	position: relative;
	isolation: isolate;
}
.section-content::before {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -1; /* above section-specific bg (e.g., collection), below content */
	background-image:
		/* side vignettes */
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		/* top vignette */
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		/* subtle teal accent */
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		/* base tint: will be overridden per slide (light/dark) */
		linear-gradient(120deg, rgba(34,40,49,0.92), rgba(57,62,70,0.82));
	background-blend-mode: normal, normal, normal, screen, normal;
	pointer-events: none;
}

/* Alternating light/dark background base for non-hero slides (index: 1-based in DOM order inside wrapper) */
.swiper-wrapper > .section-content:nth-child(2n) {
	/* Light variant in our palette */
	--section-base-start: rgba(238, 238, 238, 0.06);
	--section-base-end: rgba(200, 220, 225, 0.10);
}
.swiper-wrapper > .section-content:nth-child(2n+1) {
	/* Dark variant (default) */
	--section-base-start: rgba(34, 40, 49, 0.92);
	--section-base-end: rgba(57, 62, 70, 0.82);
}
.section-content::before {
	/* use base colors decided above */
	background-image:
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		linear-gradient(120deg, var(--section-base-start), var(--section-base-end));
}

/* Ensure About and Collection keep their imagery priorities; alternation affects only base tint */

/* Remove old conflicting tall bullet styles; circular bullets defined earlier are used */
.section-content h2 {
	font-family: var(--font-tech);
	font-size: 3rem;
	color: var(--accent);
	margin-bottom: 1rem;
}

.section-content p {
    font-size: 1.2rem;
    line-height: 1.6;
}

/* Improve readability for non-hero sections: wider measure, padding from edges and slightly larger text */
.section-content .content-wrapper {
	position: relative;
	z-index: 4; /* above vignette */
	max-width: 900px;
	padding: 0 64px; /* horizontal breathing room */
	margin: 0 auto;
	box-sizing: border-box;
}
@media (max-width: 900px) {
	.section-content .content-wrapper { padding: 0 18px; }
}

/* Mobile typography tweaks specifically for the "О НАС" (about) slide */
@media (max-width: 900px) {
	.about-section .content-wrapper {
		  /* Keep content clearly below the fixed header/logo.
			  Use the runtime set --header-h when available. Provide a conservative
			  large fallback so content never overlaps the header before JS runs. */
		  padding-top: calc(var(--header-h, 120px) + 8px);
		padding-left: 16px;
		padding-right: 16px;
		max-width: 720px;
		margin-left: auto;
		margin-right: auto;
		/* Ensure content fits the visible area on mobile and can scroll if needed */
		min-height: calc(100dvh - var(--header-h, 64px));
		box-sizing: border-box;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
	}

	/* Ensure the about section doesn't get hidden behind header when navigated to */
	.about-section { scroll-margin-top: calc(var(--header-h, 140px) + 16px); }
	.about-section .content-wrapper {
		padding-top: calc(var(--header-h, 140px) + 16px);
	}
	.about-section h2 {
		font-size: 1.9rem;
		line-height: 1.12;
		margin-bottom: 0.75rem;
		text-align: left;
	}
	.about-story {
		font-size: 1.02rem;
		line-height: 1.72;
		text-align: left;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		hyphens: auto;
		word-break: normal;
		overflow-wrap: anywhere;
		/* wrap long words safely */
		margin-top: 6px;
	}
	.about-story .story-block {
		margin-bottom: 1.05rem;
		padding: 0;
	}
}

@media (max-width: 600px) {
	.about-section .content-wrapper {
		  /* On narrow phones keep a small safe gap under header and make sure the
			  content fits the viewport without covering the logo. Use larger fallback. */
		  padding-top: calc(var(--header-h, 120px) + 12px);
		  padding-left: 12px;
		  padding-right: 12px;
		  max-width: none;
		  min-height: calc(100dvh - var(--header-h, 64px));
		  overflow-y: auto;
	}
	.about-section h2 {
		font-size: 1.6rem;
	}
	.about-story {
		font-size: 1rem;
		line-height: 1.78;
	}
}

/* Desktop & general: increase vertical spacing so the title doesn't collide with fixed header/logo
   Use --header-h when available (set in JS) so spacing adapts to actual header height. */
.about-section .content-wrapper {
	/* Center content vertically and horizontally for improved readability */
	display: flex;
	flex-direction: column;
	justify-content: center; /* vertical */
	align-items: center; /* horizontal */
	min-height: calc(100vh - var(--header-h, 84px));
	padding-top: 48px;
	padding-bottom: 48px;
	padding-left: 56px;
	padding-right: 56px;
	box-sizing: border-box;
}
.about-section h2 {
	margin-top: 8px; /* small breathing under top padding */
	margin-bottom: 1rem;
}

@media (min-width: 1200px) {
	.about-section .content-wrapper { max-width: 980px; }
}

@media (min-width: 901px) {
	/* Keep centered text on desktop */
	.about-section .content-wrapper { text-align: center; }
	.about-section h2 { text-align: center; }
	.about-story { text-align: center; max-width: 980px; }
}

.section-content p {
	font-size: 1.18rem;
	line-height: 1.78;
	color: rgba(255,255,255,0.95);
}

@media (max-width: 1200px) {
	.section-content .content-wrapper { padding: 0 48px; max-width: 760px; }
}
@media (max-width: 900px) {
	.section-content .content-wrapper { padding: 24px 28px; max-width: 640px; }
	.section-content h2 { font-size: 2.2rem; }
	.section-content p { font-size: 1.05rem; line-height: 1.6; }
}

/* Collection (Коллекция) section background */
.collection-section {
	position: relative;
	overflow: hidden;
}
.collection-section::before {
	/* disable this pseudo so section gradient uses ::before without conflict */
	content: none;
}
.collection-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3; /* below gradient layer */
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover; /* fill and crop */
	/* slightly darker to match requested look */
	filter: brightness(0.9) contrast(1.06) saturate(1.02);
	opacity: 0.94;
}
/* Remove centered dark panel: content should be transparent and full-bleed */
.collection-section .content-wrapper {
	background: transparent; /* no inner dark panel */
	border-radius: 0; /* full-bleed feel */
	padding-top: 28px;
	padding-bottom: 28px;
	box-shadow: none;
	border: none;
}

/* Desktop-only: assign desktop image; high-DPR override to @2x */
@media (min-width: 901px) {
	/* Prefer AVIF/WEBP with JPG fallback; 1x by default, 2x for high-DPR */
	.collection-section::after {
		/* Layer 1: darkening overlay; Layer 2+: image-set with JPG fallback */
		background-image:
			linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.16)),
			image-set(
				url('../img/collection-bg-desktop.avif') type('image/avif') 1x,
				url('../img/collection-bg-desktop.webp') type('image/webp') 1x,
				url('../img/collection-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../img/collection-bg-desktop.jpg');
	background-position: 50% 35%; /* raise the subject a bit higher */
	}
}
@media (min-width: 901px) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 901px) and (min-resolution: 144dpi) {
	.collection-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.16)),
			image-set(
				url('../img/collection-bg-desktop@2x.avif') type('image/avif') 2x,
				url('../img/collection-bg-desktop@2x.webp') type('image/webp') 2x,
				url('../img/collection-bg-desktop@2x.jpg') type('image/jpeg') 2x
			),
			url('../img/collection-bg-desktop@2x.jpg');
	background-position: 50% 35%;
	}
}

/* Mobile: adjust crop for portrait, keep subject centered (hands + растения) */
@media (max-width: 900px) {
	.collection-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.14), rgba(0,0,0,0.14)),
			image-set(
				url('../img/collection-bg-mobile.avif') type('image/avif') 1x,
				url('../img/collection-bg-mobile.webp') type('image/webp') 1x,
				url('../img/collection-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../img/collection-bg-mobile.jpg');
	background-position: 55% 32%; /* raise framing on mobile too */
		background-size: cover;
		opacity: 1;
	}
	/* Stronger, crisper pan on mobile for clarity */
	.collection-section.collection-pan::after {
		animation: collectionPanMobile 30s ease-in-out 0s infinite alternate;
		transform-origin: 55% 40%; /* pivot around focal area */
	}
	/* ensure inner container is transparent on mobile too */
	.collection-section .content-wrapper {
		background: transparent;
		padding-top: 36px;
		padding-bottom: 36px;
	}
}

/* Contract Molding (КОНТРАКТНОЕ ЛИТЬЁ) section background */
.contract-section { position: relative; overflow: hidden; }
.contract-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3;
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	filter: brightness(0.98) contrast(1.05) saturate(1.04);
	opacity: 0.96;
	transform: translate3d(0,0,0);
	will-change: transform;
}
@keyframes contractPan {
	0%   { transform: scale(1.04) translate3d(-1.2%, -0.8%, 0); }
	50%  { transform: scale(1.06) translate3d(1.4%,  1.2%, 0); }
	100% { transform: scale(1.05) translate3d(-0.6%, 1.6%, 0); }
}
/* Desktop background with progressive enhancement (AVIF/WEBP) and JPG fallback */
@media (min-width: 901px) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-desktop.avif') type('image/avif') 1x,
				url('../img/contract-bg-desktop.webp') type('image/webp') 1x,
				url('../img/contract-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 46%;
	}
}
@media (min-width: 901px) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 901px) and (min-resolution: 144dpi) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-desktop@2x.avif') type('image/avif') 2x,
				url('../img/contract-bg-desktop@2x.webp') type('image/webp') 2x,
				url('../img/contract-bg-desktop@2x.jpg') type('image/jpeg') 2x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 46%;
	}
}
/* Mobile crop */
@media (max-width: 900px) {
	.contract-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.12), rgba(0,0,0,0.12)),
			image-set(
				url('../img/contract-bg-mobile.avif') type('image/avif') 1x,
				url('../img/contract-bg-mobile.webp') type('image/webp') 1x,
				url('../img/contract-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../../slider_51-1625x0-c-default (1).jpg');
		background-position: 50% 42%;
		background-size: cover;
	}
}
/* Run pan only when slide is active (class toggled by JS) */
.contract-section.contract-pan::after { animation: contractPan 30s ease-in-out infinite alternate; }

/* About (О НАС / Качество) section background */
.about-section {
	position: relative;
	overflow: hidden;
}
.about-section::after {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -3; /* below gradient layer */
	background-position: center center;
	background-repeat: no-repeat;
	background-size: cover;
	/* Gentle lift: lighter than collection to keep text readable with global vignette */
	filter: brightness(0.98) contrast(1.04) saturate(1.06);
	opacity: 0.96;
	transform: translate3d(0,0,0);
	will-change: transform;
}
@keyframes aboutPan {
	0%   { transform: scale(1.04) translate3d(-1.2%, -0.8%, 0); }
	50%  { transform: scale(1.06) translate3d(1.4%, 1.2%, 0); }
	100% { transform: scale(1.05) translate3d(-0.6%, 1.6%, 0); }
}
/* Desktop background with JPG source; can be upgraded later to AVIF/WEBP if provided */
@media (min-width: 901px) {
	.about-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.10), rgba(0,0,0,0.10)),
			image-set(
				url('../img/about-bg-desktop.avif') type('image/avif') 1x,
				url('../img/about-bg-desktop.webp') type('image/webp') 1x,
				url('../img/about-bg-desktop.jpg') type('image/jpeg') 1x
			),
			url('../../NK2_2198 (1).jpg');
		background-position: 50% 45%;
	}
}
/* Mobile crop tuning */
@media (max-width: 900px) {
	.about-section::after {
		background-image:
			linear-gradient(rgba(0,0,0,0.10), rgba(0,0,0,0.10)),
			image-set(
				url('../img/about-bg-mobile.avif') type('image/avif') 1x,
				url('../img/about-bg-mobile.webp') type('image/webp') 1x,
				url('../img/about-bg-mobile.jpg') type('image/jpeg') 1x
			),
			url('../../NK2_2198 (1).jpg');
		background-position: 50% 38%;
		background-size: cover;
	}
}

/* Run the pan only when slide is active (class toggled by JS) */
.about-section.about-pan::after {
	animation: aboutPan 30s ease-in-out infinite alternate;
}

/* About content reveal */
.about-section .content-wrapper h2,
.about-section .about-story .story-block {
	opacity: 0;
	transform: translate3d(0, 14px, 0);
	will-change: opacity, transform;
}
.about-section.about-reveal .content-wrapper h2 { animation: aboutRevealUp 1100ms cubic-bezier(.22,.9,.24,1) 120ms forwards; }

/* Staged reveal for about-story blocks */
.about-section .about-story { display: grid; gap: 12px; margin-top: 12px; }

@keyframes aboutRevealLeft {
		0%   { opacity: 0; transform: translate3d(-24px, 14px, 0); filter: blur(0.6px); }
		60%  { opacity: 1; transform: translate3d(-6px,  4px, 0);  filter: blur(0.2px); }
		100% { opacity: 1; transform: translate3d(0,     0,   0);  filter: blur(0); }
}
@keyframes aboutRevealRight {
		0%   { opacity: 0; transform: translate3d(24px, 14px, 0); filter: blur(0.6px); }
		60%  { opacity: 1; transform: translate3d(6px,  4px, 0);  filter: blur(0.2px); }
		100% { opacity: 1; transform: translate3d(0,    0,  0);   filter: blur(0); }
}

.about-section.about-reveal .about-story .story-block:nth-child(1) { animation: aboutRevealLeft 1200ms cubic-bezier(.22,.9,.24,1) 240ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(2) { animation: aboutRevealRight 1250ms cubic-bezier(.22,.9,.24,1) 780ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(3) { animation: aboutRevealLeft 1300ms cubic-bezier(.22,.9,.24,1) 1320ms forwards; }
.about-section.about-reveal .about-story .story-block:nth-child(4) { animation: aboutRevealRight 1350ms cubic-bezier(.22,.9,.24,1) 1860ms forwards; }

/* (Removed second duplicate animated about-credits definitions) */

/* Accessibility improvements for focus states */
:focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
}
.skip-link {
	position: absolute;
	left: 8px;
	top: -40px;
	padding: 8px 12px;
	background: var(--accent);
	color: #0b0b0b;
	border-radius: 8px;
	z-index: 10000;
	text-decoration: none;
	transition: top .2s ease;
}
.skip-link:focus { top: 8px; }

/* Improve tap behavior on mobile: prefer click over double-tap zoom on actionable elements */
a, button, .btn, .hamburger-menu, .main-nav a, .mobile-nav a {
	touch-action: manipulation;
}

.swiper-slide {
    text-align: center;
    font-size: 18px;
    background: transparent;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    box-sizing: border-box;
		position: relative; /* allow absolute overlays like fog-layer */
}

/* Transitional fog overlay used during slide change */
.fog-layer {
		position: absolute;
		inset: 0;
		z-index: 3; /* above backgrounds/gradients, below header */
		pointer-events: none;
		opacity: var(--fogOpacity, 0);
		filter: blur(var(--fogBlur, 0px));
		transition: opacity 200ms ease-out, filter 200ms ease-out;
		will-change: opacity, filter;
		background:
			radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.05) 35%, rgba(255,255,255,0.02) 60%, rgba(255,255,255,0.00) 80%),
			radial-gradient(180% 180% at 60% 40%, rgba(var(--accent-rgb),0.08) 0%, rgba(var(--accent-rgb),0.05) 40%, rgba(var(--accent-rgb),0.00) 70%),
			radial-gradient(160% 160% at 30% 70%, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.00) 60%);
		/* slight brightening to simulate light haze */
		mix-blend-mode: screen;
}

/* Gradient overlay for all content sections (exclude the hero which has its own .hero-bg) */
.section-content {
	position: relative;
	isolation: isolate;
}
.section-content::before {
	content: "";
	position: absolute;
	inset: 0;
	z-index: -1; /* above section-specific bg (e.g., collection), below content */
	background-image:
		/* side vignettes */
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		/* top vignette */
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		/* subtle teal accent */
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		/* base tint: will be overridden per slide (light/dark) */
		linear-gradient(120deg, rgba(34,40,49,0.92), rgba(57,62,70,0.82));
	background-blend-mode: normal, normal, normal, screen, normal;
	pointer-events: none;
}

/* Alternating light/dark background base for non-hero slides (index: 1-based in DOM order inside wrapper) */
.swiper-wrapper > .section-content:nth-child(2n) {
	/* Light variant in our palette */
	--section-base-start: rgba(238, 238, 238, 0.06);
	--section-base-end: rgba(200, 220, 225, 0.10);
}
.swiper-wrapper > .section-content:nth-child(2n+1) {
	/* Dark variant (default) */
	--section-base-start: rgba(34, 40, 49, 0.92);
	--section-base-end: rgba(57, 62, 70, 0.82);
}
.section-content::before {
	/* use base colors decided above */
	background-image:
		linear-gradient(90deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(270deg, rgba(0,0,0,0.40) 0%, rgba(0,0,0,0.00) 22%),
		linear-gradient(180deg, rgba(0,0,0,0.50) 0%, rgba(0,0,0,0.14) 42%, rgba(0,0,0,0.00) 72%),
		radial-gradient(ellipse at 18% 22%, rgba(0,173,181,0.07) 0%, rgba(0,173,181,0.00) 32%),
		linear-gradient(120deg, var(--section-base-start), var(--section-base-end));
}

/* Ensure About and Collection keep their imagery priorities; alternation affects only base tint */

/* Remove old conflicting tall bullet styles; circular bullets defined earlier are used */
.section-content h2 {
	font-family: var(--font-tech);
	font-size: 3rem;
	color: var(--accent);
	margin-bottom: 1rem;
}

.section-content p {
    font-size: 1.2rem;
    line-height: 1.6;
}

/* Improve readability for non-hero sections: wider measure, padding from edges and slightly larger text */
.section-content .content-wrapper {
	position: relative;
	z-index: 4; /* above vignette */
	max-width: 900px;
	padding: 0 64px; /* horizontal breathing room */
	margin: 0 auto;
	box-sizing: border-box;
}
@media (max-width: 900px) {
	.section-content .content-wrapper { padding: 0 18px; }
}

/* Mobile typography tweaks specifically for the "О НАС" (about) slide */
@media (max-width: 900px) {
	.about-section .content-wrapper {
		  /* Keep content clearly below the fixed header/logo.
			  Use the runtime set --header-h when available. Provide a conservative
			  large fallback so content never overlaps the header before JS runs. */
		  padding-top: calc(var(--header-h, 120px) + 8px);
		padding-left: 16px;
		padding-right: 16px;
		max-width: 720px;
		margin-left: auto;
		margin-right: auto;
		/* Ensure content fits the visible area on mobile and can scroll if needed */
		min-height: calc(100dvh - var(--header-h, 64px));
		box-sizing: border-box;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
	}

	/* Ensure the about section doesn't get hidden behind header when navigated to */
	.about-section { scroll-margin-top: calc(var(--header-h, 140px) + 16px); }
	.about-section .content-wrapper {
		padding-top: calc(var(--header-h, 140px) + 16px);
	}
	.about-section h2 {
		font-size: 1.9rem;
		line-height: 1.12;
		margin-bottom: 0.75rem;
		text-align: left;
	}
	.about-story {
		font-size: 1.02rem;
		line-height: 1.72;
		text-align: left;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		hyphens: auto;
		word-break: normal;
		overflow-wrap: anywhere;
		/* wrap long words safely */
		margin-top: 6px;
	}
	.about-story .story-block {
		margin-bottom: 1.05rem;
		padding: 0;
	}
}

/* (Removed broken/incomplete media query block for max-width:600px; replaced earlier with corrected version) */